webpackJsonp([1],{145:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){return{root:{top:0,bottom:0,right:4,margin:"auto",position:"absolute"}}}Object.defineProperty(t,"__esModule",{value:!0});var n=l(5),r=a(n),i=l(3),d=a(i),u=l(4),s=a(u),p=l(7),c=a(p),f=l(6),h=a(f),y=l(8),m=a(y),b=l(0),x=a(b),v=l(1),C=a(v),E=l(345),g=a(E),_=l(344),S=a(_),T=l(94),M=a(T),k=function(e){function t(){return(0,d.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=o(this.props,this.context);return x.default.createElement(M.default,{style:(0,m.default)(e.root,this.props.style),onTouchTap:this.props.onExpanding,iconStyle:this.props.iconStyle},this.props.expanded?this.props.openIcon:this.props.closeIcon)}}]),t}(b.Component);k.contextTypes={muiTheme:C.default.object.isRequired},k.defaultProps={closeIcon:x.default.createElement(S.default,null),openIcon:x.default.createElement(g.default,null)},k.propTypes={},t.default=k},184:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CardExpandable=t.CardActions=t.CardText=t.CardMedia=t.CardTitle=t.CardHeader=t.Card=void 0;var o=l(297),n=a(o),r=l(299),i=a(r),d=l(302),u=a(d),s=l(300),p=a(s),c=l(301),f=a(c),h=l(298),y=a(h),m=l(145),b=a(m);t.Card=n.default,t.CardHeader=i.default,t.CardTitle=u.default,t.CardMedia=p.default,t.CardText=f.default,t.CardActions=y.default,t.CardExpandable=b.default,t.default=n.default},187:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(317),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o.default},206:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=l(0),n=a(o),r=l(16),i=a(r),d=l(72),u=a(d),s=l(187),p=(a(s),l(115)),c=a(p),f=l(184),h=l(71),y=a(h);l(73)();var m=n.default.createClass({displayName:"Login",submitForm:function(){console.log("Submiting form"),this.form&&this.form.submit()},render:function(){var e=this;return n.default.createElement("div",null,n.default.createElement("div",{style:{color:"rgba(0, 0, 0, 0.87)",backgroundColor:"rgb(0, 188, 212)",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",boxSizing:"border-box",fontFamily:"Roboto, sans-serif",boxShadow:"rgba(0, 0, 0, 0.12) 0px 1px 6px, rgba(0, 0, 0, 0.12) 0px 1px 4px",borderRadius:"0px",position:"relative",zIndex:1100,width:"100%",display:"flex",paddingLeft:"24px",paddingRight:"24px"}},n.default.createElement("h1",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:"0px",paddingTop:"0px",letterSpacing:"0px",fontSize:"24px",fontWeight:400,color:"rgb(255, 255, 255)",height:"64px",lineHeight:"64px",flex:"1 1 0%"}},"Iniciar sesion")),n.default.createElement(u.default,null,n.default.createElement(f.Card,null,n.default.createElement(f.CardHeader,{title:"Iniciar sesion",subtitle:"Inicia sesion con una cuenta existente en BINDIE.",actAsExpander:!0,showExpandableButton:!0}),n.default.createElement(f.CardText,{expandable:!0},n.default.createElement("form",{method:"POST",action:"/login",ref:function(t){e.form=t}},n.default.createElement(c.default,{name:"email",hint:"email",floatingLabelText:"email"}),n.default.createElement("br",null),n.default.createElement(c.default,{name:"password",hintText:"Password",floatingLabelText:"Password",type:"password"}),n.default.createElement("br",null))),n.default.createElement(f.CardActions,null,n.default.createElement(y.default,{label:"Iniciar sesion",onClick:this.submitForm})))))}});i.default.render(n.default.createElement(m,null),document.getElementById("root"))},295:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var l=e.backgroundColor,a=e.color,o=e.size,n=t.muiTheme.avatar;return{root:{color:a||n.color,backgroundColor:l||n.backgroundColor,userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:o/2,borderRadius:"50%",height:o,width:o},icon:{color:a||n.color,width:.6*o,height:.6*o,fontSize:.6*o,margin:.2*o}}}Object.defineProperty(t,"__esModule",{value:!0});var n=l(12),r=a(n),i=l(9),d=a(i),u=l(5),s=a(u),p=l(3),c=a(p),f=l(4),h=a(f),y=l(7),m=a(y),b=l(6),x=a(b),v=l(8),C=a(v),E=l(0),g=a(E),_=l(1),S=a(_),T=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,x.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.backgroundColor,e.icon),l=e.src,a=e.style,n=e.className,i=(0,d.default)(e,["backgroundColor","icon","src","style","className"]),u=this.context.muiTheme.prepareStyles,s=o(this.props,this.context);return l?g.default.createElement("img",(0,r.default)({style:u((0,C.default)(s.root,a))},i,{src:l,className:n})):g.default.createElement("div",(0,r.default)({},i,{style:u((0,C.default)(s.root,a)),className:n}),t&&g.default.cloneElement(t,{color:s.icon.color,style:(0,C.default)(s.icon,t.props.style)}),this.props.children)}}]),t}(E.Component);T.muiName="Avatar",T.defaultProps={size:40},T.contextTypes={muiTheme:S.default.object.isRequired},T.propTypes={},t.default=T},296:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(295),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o.default},297:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=l(12),n=a(o),r=l(9),i=a(r),d=l(5),u=a(d),s=l(3),p=a(s),c=l(4),f=a(c),h=l(7),y=a(h),m=l(6),b=a(m),x=l(8),v=a(x),C=l(0),E=a(C),g=l(1),_=(a(g),l(43)),S=a(_),T=l(145),M=a(T),k=function(e){function t(){var e,l,a,o;(0,p.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return l=a=(0,y.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(r))),a.state={expanded:null},a.handleExpanding=function(e){e.preventDefault();var t=!a.state.expanded;null===a.props.expanded&&a.setState({expanded:t}),a.props.onExpandChange&&a.props.onExpandChange(t)},o=l,(0,y.default)(a,o)}return(0,b.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.setState({expanded:null===this.props.expanded?!0===this.props.initiallyExpanded:this.props.expanded})}},{key:"componentWillReceiveProps",value:function(e){null!==e.expanded&&this.setState({expanded:e.expanded})}},{key:"render",value:function(){var e=this,t=this.props,l=t.style,a=t.containerStyle,o=t.children,r=(t.expandable,t.expanded,t.initiallyExpanded,t.onExpandChange,(0,i.default)(t,["style","containerStyle","children","expandable","expanded","initiallyExpanded","onExpandChange"])),d=void 0,u=this.state.expanded,s=E.default.Children.map(o,function(t){var l=!1,a=void 0,o={},n=t;return t&&t.props?!1!==u||!0!==t.props.expandable?(!0===t.props.actAsExpander&&(l=!0,o.onTouchTap=e.handleExpanding,o.style=(0,v.default)({cursor:"pointer"},t.props.style)),!0===t.props.showExpandableButton&&(l=!0,a=E.default.createElement(M.default,{closeIcon:t.props.closeIcon,expanded:u,onExpanding:e.handleExpanding,openIcon:t.props.openIcon,iconStyle:t.props.iconStyle})),l&&(n=E.default.cloneElement(t,o,t.props.children,a)),d=n,n):void 0:null},this),p=d&&("CardText"===d.type.muiName||"CardTitle"===d.type.muiName),c=(0,v.default)({zIndex:1},l),f=(0,v.default)({paddingBottom:p?8:0},a);return E.default.createElement(S.default,(0,n.default)({},r,{style:c}),E.default.createElement("div",{style:f},s))}}]),t}(C.Component);k.defaultProps={expandable:!1,expanded:null,initiallyExpanded:!1},k.propTypes={},t.default=k},298:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){return{root:{padding:8,position:"relative"},action:{marginRight:8}}}Object.defineProperty(t,"__esModule",{value:!0});var n=l(12),r=a(n),i=l(9),d=a(i),u=l(5),s=a(u),p=l(3),c=a(p),f=l(4),h=a(f),y=l(7),m=a(y),b=l(6),x=a(b),v=l(8),C=a(v),E=l(0),g=a(E),_=l(1),S=a(_),T=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,x.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.actAsExpander,e.children),l=(e.expandable,e.showExpandableButton,e.style),a=(0,d.default)(e,["actAsExpander","children","expandable","showExpandableButton","style"]),n=this.context.muiTheme.prepareStyles,i=o(this.props,this.context),u=g.default.Children.map(t,function(e){if(g.default.isValidElement(e))return g.default.cloneElement(e,{style:(0,C.default)({},i.action,e.props.style)})});return g.default.createElement("div",(0,r.default)({},a,{style:n((0,C.default)(i.root,l))}),u)}}]),t}(E.Component);T.contextTypes={muiTheme:S.default.object.isRequired},T.propTypes={},t.default=T},299:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var l=t.muiTheme.card;return{root:{padding:16,fontWeight:l.fontWeight,boxSizing:"border-box",position:"relative",whiteSpace:"nowrap"},text:{display:"inline-block",verticalAlign:"top",whiteSpace:"normal",paddingRight:"90px"},avatar:{marginRight:16},title:{color:e.titleColor||l.titleColor,display:"block",fontSize:15},subtitle:{color:e.subtitleColor||l.subtitleColor,display:"block",fontSize:14}}}Object.defineProperty(t,"__esModule",{value:!0});var n=l(12),r=a(n),i=l(9),d=a(i),u=l(5),s=a(u),p=l(3),c=a(p),f=l(4),h=a(f),y=l(7),m=a(y),b=l(6),x=a(b),v=l(8),C=a(v),E=l(0),g=a(E),_=l(1),S=a(_),T=l(296),M=a(T),k=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,x.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.actAsExpander,e.avatar),l=e.children,a=(e.closeIcon,e.expandable,e.openIcon,e.showExpandableButton,e.style),n=e.subtitle,i=(e.subtitleColor,e.subtitleStyle),u=e.textStyle,s=e.title,p=(e.titleColor,e.titleStyle),c=(e.iconStyle,(0,d.default)(e,["actAsExpander","avatar","children","closeIcon","expandable","openIcon","showExpandableButton","style","subtitle","subtitleColor","subtitleStyle","textStyle","title","titleColor","titleStyle","iconStyle"])),f=this.context.muiTheme.prepareStyles,h=o(this.props,this.context),y=t;return(0,E.isValidElement)(t)?y=g.default.cloneElement(y,{style:(0,C.default)(h.avatar,y.props.style)}):null!==y&&(y=g.default.createElement(M.default,{src:t,style:h.avatar})),g.default.createElement("div",(0,r.default)({},c,{style:f((0,C.default)(h.root,a))}),y,g.default.createElement("div",{style:f((0,C.default)(h.text,u))},g.default.createElement("span",{style:f((0,C.default)(h.title,p))},s),g.default.createElement("span",{style:f((0,C.default)(h.subtitle,i))},n)),l)}}]),t}(E.Component);k.muiName="CardHeader",k.defaultProps={avatar:null},k.contextTypes={muiTheme:S.default.object.isRequired},k.propTypes={},t.default=k},300:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{root:{position:"relative"},overlayContainer:{position:"absolute",top:0,bottom:0,right:0,left:0},overlay:{height:"100%",position:"relative"},overlayContent:{position:"absolute",bottom:0,right:0,left:0,paddingTop:8,background:t.muiTheme.cardMedia.overlayContentBackground},media:{},mediaChild:{verticalAlign:"top",maxWidth:"100%",minWidth:"100%",width:"100%"}}}Object.defineProperty(t,"__esModule",{value:!0});var n=l(12),r=a(n),i=l(9),d=a(i),u=l(5),s=a(u),p=l(3),c=a(p),f=l(4),h=a(f),y=l(7),m=a(y),b=l(6),x=a(b),v=l(8),C=a(v),E=l(0),g=a(E),_=l(1),S=a(_),T=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,x.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.actAsExpander,e.children),l=(e.expandable,e.mediaStyle),a=e.overlay,n=e.overlayContainerStyle,i=e.overlayContentStyle,u=e.overlayStyle,s=e.style,p=(0,d.default)(e,["actAsExpander","children","expandable","mediaStyle","overlay","overlayContainerStyle","overlayContentStyle","overlayStyle","style"]),c=this.context.muiTheme.prepareStyles,f=o(this.props,this.context),h=(0,C.default)(f.root,s),y=(0,C.default)(f.media,l),m=(0,C.default)(f.overlayContainer,n),b=(0,C.default)(f.overlayContent,i),x=(0,C.default)(f.overlay,u),v=this.context.muiTheme.cardMedia.titleColor,E=this.context.muiTheme.cardMedia.subtitleColor,_=this.context.muiTheme.cardMedia.color,S=g.default.Children.map(t,function(e){return g.default.cloneElement(e,{style:c((0,C.default)({},f.mediaChild,e.props.style))})}),T=g.default.Children.map(a,function(e){return"CardHeader"===e.type.muiName||"CardTitle"===e.type.muiName?g.default.cloneElement(e,{titleColor:v,subtitleColor:E}):"CardText"===e.type.muiName?g.default.cloneElement(e,{color:_}):e});return g.default.createElement("div",(0,r.default)({},p,{style:c(h)}),g.default.createElement("div",{style:c(y)},S),a?g.default.createElement("div",{style:c(m)},g.default.createElement("div",{style:c(x)},g.default.createElement("div",{style:c(b)},T))):"")}}]),t}(E.Component);T.contextTypes={muiTheme:S.default.object.isRequired},T.propTypes={},t.default=T},301:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var l=t.muiTheme.cardText;return{root:{padding:16,fontSize:14,color:e.color||l.textColor}}}Object.defineProperty(t,"__esModule",{value:!0});var n=l(12),r=a(n),i=l(9),d=a(i),u=l(5),s=a(u),p=l(3),c=a(p),f=l(4),h=a(f),y=l(7),m=a(y),b=l(6),x=a(b),v=l(8),C=a(v),E=l(0),g=a(E),_=l(1),S=a(_),T=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,x.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.actAsExpander,e.children),l=(e.color,e.expandable,e.style),a=(0,d.default)(e,["actAsExpander","children","color","expandable","style"]),n=this.context.muiTheme.prepareStyles,i=o(this.props,this.context),u=(0,C.default)(i.root,l);return g.default.createElement("div",(0,r.default)({},a,{style:n(u)}),t)}}]),t}(E.Component);T.muiName="CardText",T.contextTypes={muiTheme:S.default.object.isRequired},T.propTypes={},t.default=T},302:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var l=t.muiTheme.card;return{root:{padding:16,position:"relative"},title:{fontSize:24,color:e.titleColor||l.titleColor,display:"block",lineHeight:"36px"},subtitle:{fontSize:14,color:e.subtitleColor||l.subtitleColor,display:"block"}}}Object.defineProperty(t,"__esModule",{value:!0});var n=l(12),r=a(n),i=l(9),d=a(i),u=l(5),s=a(u),p=l(3),c=a(p),f=l(4),h=a(f),y=l(7),m=a(y),b=l(6),x=a(b),v=l(8),C=a(v),E=l(0),g=a(E),_=l(1),S=a(_),T=function(e){function t(){return(0,c.default)(this,t),(0,m.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,x.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.actAsExpander,e.children),l=(e.closeIcon,e.expandable,e.showExpandableButton,e.style),a=e.subtitle,n=(e.subtitleColor,e.subtitleStyle),i=e.title,u=(e.titleColor,e.titleStyle),s=(0,d.default)(e,["actAsExpander","children","closeIcon","expandable","showExpandableButton","style","subtitle","subtitleColor","subtitleStyle","title","titleColor","titleStyle"]),p=this.context.muiTheme.prepareStyles,c=o(this.props,this.context),f=(0,C.default)({},c.root,l),h=(0,C.default)({},c.title,u),y=(0,C.default)({},c.subtitle,n);return g.default.createElement("div",(0,r.default)({},s,{style:p(f)}),g.default.createElement("span",{style:p(h)},i),g.default.createElement("span",{style:p(y)},a),t)}}]),t}(E.Component);T.muiName="CardTitle",T.contextTypes={muiTheme:S.default.object.isRequired},T.propTypes={},t.default=T},317:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,l){var a=t.muiTheme,o=a.baseTheme,n=a.button,r=a.raisedButton,i=a.borderRadius,d=e.disabled,u=e.disabledBackgroundColor,s=e.disabledLabelColor,p=e.fullWidth,c=e.icon,f=e.label,h=e.labelPosition,y=e.primary,m=e.secondary,b=e.style,x=y||m?.4:.08,v=r.color,C=r.textColor;d?(v=u||r.disabledColor,C=s||r.disabledTextColor):y?(v=r.primaryColor,C=r.primaryTextColor):m?(v=r.secondaryColor,C=r.secondaryTextColor):(e.backgroundColor&&(v=e.backgroundColor),e.labelColor&&(C=e.labelColor));var E=b&&b.height||n.height;return{root:{display:"inline-block",transition:M.default.easeOut(),minWidth:p?"100%":n.minWidth},button:{height:E,lineHeight:E+"px",width:"100%",padding:0,borderRadius:i,transition:M.default.easeOut(),backgroundColor:v,textAlign:"center"},label:{position:"relative",opacity:1,fontSize:r.fontSize,letterSpacing:0,textTransform:r.textTransform||n.textTransform||"uppercase",fontWeight:r.fontWeight,margin:0,userSelect:"none",paddingLeft:c&&"before"!==h?8:o.spacing.desktopGutterLess,paddingRight:c&&"before"===h?8:o.spacing.desktopGutterLess,color:C},icon:{verticalAlign:"middle",marginLeft:f&&"before"!==h?12:0,marginRight:f&&"before"===h?12:0},overlay:{height:E,borderRadius:i,backgroundColor:(l.keyboardFocused||l.hovered)&&!d&&(0,k.fade)(C,x),transition:M.default.easeOut(),top:0},ripple:{color:C,opacity:y||m?.16:.1}}}Object.defineProperty(t,"__esModule",{value:!0});var n=l(12),r=a(n),i=l(9),d=a(i),u=l(5),s=a(u),p=l(3),c=a(p),f=l(4),h=a(f),y=l(7),m=a(y),b=l(6),x=a(b),v=l(8),C=a(v),E=l(0),g=a(E),_=l(1),S=a(_),T=l(15),M=a(T),k=l(57),w=l(63),z=a(w),D=l(43),P=a(D),R=function(e){function t(){var e,l,a,o;(0,c.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return l=a=(0,m.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(r))),a.state={hovered:!1,keyboardFocused:!1,touched:!1,initialZDepth:0,zDepth:0},a.handleMouseDown=function(e){0===e.button&&a.setState({zDepth:a.state.initialZDepth+1}),a.props.onMouseDown&&a.props.onMouseDown(e)},a.handleMouseUp=function(e){a.setState({zDepth:a.state.initialZDepth}),a.props.onMouseUp&&a.props.onMouseUp(e)},a.handleMouseLeave=function(e){a.state.keyboardFocused||a.setState({zDepth:a.state.initialZDepth,hovered:!1}),a.props.onMouseLeave&&a.props.onMouseLeave(e)},a.handleMouseEnter=function(e){a.state.keyboardFocused||a.state.touched||a.setState({hovered:!0}),a.props.onMouseEnter&&a.props.onMouseEnter(e)},a.handleTouchStart=function(e){a.setState({touched:!0,zDepth:a.state.initialZDepth+1}),a.props.onTouchStart&&a.props.onTouchStart(e)},a.handleTouchEnd=function(e){a.setState({touched:!0,zDepth:a.state.initialZDepth}),a.props.onTouchEnd&&a.props.onTouchEnd(e)},a.handleKeyboardFocus=function(e,t){var l=t&&!a.props.disabled?a.state.initialZDepth+1:a.state.initialZDepth;a.setState({zDepth:l,keyboardFocused:t})},o=l,(0,m.default)(a,o)}return(0,x.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.disabled?0:1;this.setState({zDepth:e,initialZDepth:e})}},{key:"componentWillReceiveProps",value:function(e){var t=e.disabled?0:1,l={zDepth:t,initialZDepth:t};e.disabled&&(l.hovered=!1),this.setState(l)}},{key:"render",value:function(){var e=this.props,t=(e.backgroundColor,e.buttonStyle),l=e.children,a=e.className,n=e.disabled,i=(e.disabledBackgroundColor,e.disabledLabelColor,e.fullWidth,e.icon),u=e.label,s=(e.labelColor,e.labelPosition),p=e.labelStyle,c=e.overlayStyle,f=(e.primary,e.rippleStyle),h=(e.secondary,e.style),y=(0,d.default)(e,["backgroundColor","buttonStyle","children","className","disabled","disabledBackgroundColor","disabledLabelColor","fullWidth","icon","label","labelColor","labelPosition","labelStyle","overlayStyle","primary","rippleStyle","secondary","style"]),m=this.context.muiTheme.prepareStyles,b=o(this.props,this.context,this.state),x=(0,C.default)({},b.ripple,f),v=n?{}:{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onKeyboardFocus:this.handleKeyboardFocus},_=u&&g.default.createElement("span",{style:m((0,C.default)(b.label,p)),key:"labelElement"},u),S=i&&(0,E.cloneElement)(i,{color:i.props.color||b.label.color,style:(0,C.default)(b.icon,i.props.style),key:"iconCloned"}),T="before"===s?[_,S,l]:[l,S,_];return g.default.createElement(P.default,{className:a,style:(0,C.default)(b.root,h),zDepth:this.state.zDepth},g.default.createElement(z.default,(0,r.default)({},y,v,{ref:"container",disabled:n,style:(0,C.default)(b.button,t),focusRippleColor:x.color,touchRippleColor:x.color,focusRippleOpacity:x.opacity,touchRippleOpacity:x.opacity}),g.default.createElement("div",{ref:"overlay",style:m((0,C.default)(b.overlay,c))},T)))}}]),t}(E.Component);R.muiName="RaisedButton",R.defaultProps={disabled:!1,labelPosition:"after",fullWidth:!1,primary:!1,secondary:!1},R.contextTypes={muiTheme:S.default.object.isRequired},R.propTypes={},t.default=R},344:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=l(0),n=a(o),r=l(27),i=a(r),d=l(24),u=a(d),s=function(e){return n.default.createElement(u.default,e,n.default.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}))};s=(0,i.default)(s),s.displayName="HardwareKeyboardArrowDown",s.muiName="SvgIcon",t.default=s},345:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=l(0),n=a(o),r=l(27),i=a(r),d=l(24),u=a(d),s=function(e){return n.default.createElement(u.default,e,n.default.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}))};s=(0,i.default)(s),s.displayName="HardwareKeyboardArrowUp",s.muiName="SvgIcon",t.default=s}},[206]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbG9naW4uYnVuZGxlLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvQ2FyZC9DYXJkRXhwYW5kYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0NhcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9SYWlzZWRCdXR0b24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9sb2dpbi9Mb2dpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L21hdGVyaWFsLXVpL0F2YXRhci9BdmF0YXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9BdmF0YXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9DYXJkL0NhcmQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9DYXJkL0NhcmRBY3Rpb25zLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvQ2FyZC9DYXJkSGVhZGVyLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvQ2FyZC9DYXJkTWVkaWEuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9DYXJkL0NhcmRUZXh0LmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvQ2FyZC9DYXJkVGl0bGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9SYWlzZWRCdXR0b24vUmFpc2VkQnV0dG9uLmpzIiwid2VicGFjazovLy8uL34vbWF0ZXJpYWwtdWkvc3ZnLWljb25zL2hhcmR3YXJlL2tleWJvYXJkLWFycm93LWRvd24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvaGFyZHdhcmUva2V5Ym9hcmQtYXJyb3ctdXAuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiMTQ1IiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRTdHlsZXMiLCJyb290IiwidG9wIiwiYm90dG9tIiwicmlnaHQiLCJtYXJnaW4iLCJwb3NpdGlvbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfZ2V0UHJvdG90eXBlT2YiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfY3JlYXRlQ2xhc3MyIiwiX2NyZWF0ZUNsYXNzMyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyIsIl9pbmhlcml0czIiLCJfaW5oZXJpdHMzIiwiX3NpbXBsZUFzc2lnbiIsIl9zaW1wbGVBc3NpZ24yIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9wcm9wVHlwZXMiLCJfcHJvcFR5cGVzMiIsIl9rZXlib2FyZEFycm93VXAiLCJfa2V5Ym9hcmRBcnJvd1VwMiIsIl9rZXlib2FyZEFycm93RG93biIsIl9rZXlib2FyZEFycm93RG93bjIiLCJfSWNvbkJ1dHRvbiIsIl9JY29uQnV0dG9uMiIsIkNhcmRFeHBhbmRhYmxlIiwiX0NvbXBvbmVudCIsInRoaXMiLCJfX3Byb3RvX18iLCJhcHBseSIsImFyZ3VtZW50cyIsImtleSIsInN0eWxlcyIsInByb3BzIiwiY29udGV4dCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsIm9uVG91Y2hUYXAiLCJvbkV4cGFuZGluZyIsImljb25TdHlsZSIsImV4cGFuZGVkIiwib3Blbkljb24iLCJjbG9zZUljb24iLCJDb21wb25lbnQiLCJjb250ZXh0VHlwZXMiLCJtdWlUaGVtZSIsIm9iamVjdCIsImlzUmVxdWlyZWQiLCJkZWZhdWx0UHJvcHMiLCJwcm9wVHlwZXMiLCIxODQiLCJDYXJkQWN0aW9ucyIsIkNhcmRUZXh0IiwiQ2FyZE1lZGlhIiwiQ2FyZFRpdGxlIiwiQ2FyZEhlYWRlciIsIkNhcmQiLCJ1bmRlZmluZWQiLCJfQ2FyZDIiLCJfQ2FyZDMiLCJfQ2FyZEhlYWRlcjIiLCJfQ2FyZEhlYWRlcjMiLCJfQ2FyZFRpdGxlMiIsIl9DYXJkVGl0bGUzIiwiX0NhcmRNZWRpYTIiLCJfQ2FyZE1lZGlhMyIsIl9DYXJkVGV4dDIiLCJfQ2FyZFRleHQzIiwiX0NhcmRBY3Rpb25zMiIsIl9DYXJkQWN0aW9uczMiLCJfQ2FyZEV4cGFuZGFibGUyIiwiX0NhcmRFeHBhbmRhYmxlMyIsIjE4NyIsIl9SYWlzZWRCdXR0b24iLCJfUmFpc2VkQnV0dG9uMiIsIjIwNiIsIl9yZWFjdERvbSIsIl9yZWFjdERvbTIiLCJfTXVpVGhlbWVQcm92aWRlciIsIl9NdWlUaGVtZVByb3ZpZGVyMiIsIl9UZXh0RmllbGQiLCJfVGV4dEZpZWxkMiIsIl9DYXJkIiwiX0ZsYXRCdXR0b24iLCJfRmxhdEJ1dHRvbjIiLCJMb2dpbiIsImNyZWF0ZUNsYXNzIiwiZGlzcGxheU5hbWUiLCJzdWJtaXRGb3JtIiwiY29uc29sZSIsImxvZyIsImZvcm0iLCJzdWJtaXQiLCJyZW5kZXIiLCJfdGhpcyIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwidHJhbnNpdGlvbiIsImJveFNpemluZyIsImZvbnRGYW1pbHkiLCJib3hTaGFkb3ciLCJib3JkZXJSYWRpdXMiLCJ6SW5kZXgiLCJ3aWR0aCIsImRpc3BsYXkiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsIndoaXRlU3BhY2UiLCJvdmVyZmxvdyIsInRleHRPdmVyZmxvdyIsInBhZGRpbmdUb3AiLCJsZXR0ZXJTcGFjaW5nIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwiaGVpZ2h0IiwibGluZUhlaWdodCIsImZsZXgiLCJ0aXRsZSIsInN1YnRpdGxlIiwiYWN0QXNFeHBhbmRlciIsInNob3dFeHBhbmRhYmxlQnV0dG9uIiwiZXhwYW5kYWJsZSIsIm1ldGhvZCIsImFjdGlvbiIsInJlZiIsImYiLCJuYW1lIiwiaGludCIsImZsb2F0aW5nTGFiZWxUZXh0IiwiaGludFRleHQiLCJ0eXBlIiwibGFiZWwiLCJvbkNsaWNrIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIjI5NSIsInNpemUiLCJhdmF0YXIiLCJ1c2VyU2VsZWN0IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiaWNvbiIsIl9leHRlbmRzMiIsIl9leHRlbmRzMyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzIiwiQXZhdGFyIiwiX3Byb3BzIiwic3JjIiwiY2xhc3NOYW1lIiwib3RoZXIiLCJwcmVwYXJlU3R5bGVzIiwiY2xvbmVFbGVtZW50IiwiY2hpbGRyZW4iLCJtdWlOYW1lIiwiMjk2IiwiX0F2YXRhciIsIl9BdmF0YXIyIiwiMjk3IiwiX1BhcGVyIiwiX1BhcGVyMiIsIl9DYXJkRXhwYW5kYWJsZSIsIl9yZWYiLCJfdGVtcCIsIl9yZXQiLCJfbGVuIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImNhbGwiLCJjb25jYXQiLCJzdGF0ZSIsImhhbmRsZUV4cGFuZGluZyIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJuZXdFeHBhbmRlZFN0YXRlIiwic2V0U3RhdGUiLCJvbkV4cGFuZENoYW5nZSIsImluaXRpYWxseUV4cGFuZGVkIiwibmV4dFByb3BzIiwiX3RoaXMyIiwiY29udGFpbmVyU3R5bGUiLCJsYXN0RWxlbWVudCIsIm5ld0NoaWxkcmVuIiwiQ2hpbGRyZW4iLCJtYXAiLCJjdXJyZW50Q2hpbGQiLCJkb0Nsb25lIiwibmV3Q2hpbGQiLCJuZXdQcm9wcyIsImVsZW1lbnQiLCJjdXJzb3IiLCJhZGRCb3R0b21QYWRkaW5nIiwibWVyZ2VkU3R5bGVzIiwiY29udGFpbmVyTWVyZ2VkU3R5bGVzIiwicGFkZGluZ0JvdHRvbSIsIjI5OCIsInBhZGRpbmciLCJtYXJnaW5SaWdodCIsInN0eWxlZENoaWxkcmVuIiwiY2hpbGQiLCJpc1ZhbGlkRWxlbWVudCIsIjI5OSIsImNhcmQiLCJ0ZXh0IiwidmVydGljYWxBbGlnbiIsInRpdGxlQ29sb3IiLCJzdWJ0aXRsZUNvbG9yIiwiYXZhdGFyUHJvcCIsInN1YnRpdGxlU3R5bGUiLCJ0ZXh0U3R5bGUiLCJ0aXRsZVN0eWxlIiwiMzAwIiwib3ZlcmxheUNvbnRhaW5lciIsImxlZnQiLCJvdmVybGF5Iiwib3ZlcmxheUNvbnRlbnQiLCJiYWNrZ3JvdW5kIiwiY2FyZE1lZGlhIiwib3ZlcmxheUNvbnRlbnRCYWNrZ3JvdW5kIiwibWVkaWEiLCJtZWRpYUNoaWxkIiwibWF4V2lkdGgiLCJtaW5XaWR0aCIsIm1lZGlhU3R5bGUiLCJvdmVybGF5Q29udGFpbmVyU3R5bGUiLCJvdmVybGF5Q29udGVudFN0eWxlIiwib3ZlcmxheVN0eWxlIiwicm9vdFN0eWxlIiwiZXh0ZW5kZWRNZWRpYVN0eWxlIiwiZXh0ZW5kZWRPdmVybGF5Q29udGFpbmVyU3R5bGUiLCJleHRlbmRlZE92ZXJsYXlDb250ZW50U3R5bGUiLCJleHRlbmRlZE92ZXJsYXlTdHlsZSIsIm92ZXJsYXlDaGlsZHJlbiIsIjMwMSIsImNhcmRUZXh0IiwidGV4dENvbG9yIiwiMzAyIiwiZXh0ZW5kZWRUaXRsZVN0eWxlIiwiZXh0ZW5kZWRTdWJ0aXRsZVN0eWxlIiwiMzE3IiwiX2NvbnRleHQkbXVpVGhlbWUiLCJiYXNlVGhlbWUiLCJidXR0b24iLCJyYWlzZWRCdXR0b24iLCJkaXNhYmxlZCIsImRpc2FibGVkQmFja2dyb3VuZENvbG9yIiwiZGlzYWJsZWRMYWJlbENvbG9yIiwiZnVsbFdpZHRoIiwibGFiZWxQb3NpdGlvbiIsInByaW1hcnkiLCJzZWNvbmRhcnkiLCJhbW91bnQiLCJsYWJlbENvbG9yIiwiZGlzYWJsZWRDb2xvciIsImRpc2FibGVkVGV4dENvbG9yIiwicHJpbWFyeUNvbG9yIiwicHJpbWFyeVRleHRDb2xvciIsInNlY29uZGFyeUNvbG9yIiwic2Vjb25kYXJ5VGV4dENvbG9yIiwiYnV0dG9uSGVpZ2h0IiwiX3RyYW5zaXRpb25zMiIsImVhc2VPdXQiLCJ0ZXh0QWxpZ24iLCJvcGFjaXR5IiwidGV4dFRyYW5zZm9ybSIsInNwYWNpbmciLCJkZXNrdG9wR3V0dGVyTGVzcyIsIm1hcmdpbkxlZnQiLCJrZXlib2FyZEZvY3VzZWQiLCJob3ZlcmVkIiwiX2NvbG9yTWFuaXB1bGF0b3IiLCJmYWRlIiwicmlwcGxlIiwiX3RyYW5zaXRpb25zIiwiX0VuaGFuY2VkQnV0dG9uIiwiX0VuaGFuY2VkQnV0dG9uMiIsIlJhaXNlZEJ1dHRvbiIsInRvdWNoZWQiLCJpbml0aWFsWkRlcHRoIiwiekRlcHRoIiwiaGFuZGxlTW91c2VEb3duIiwib25Nb3VzZURvd24iLCJoYW5kbGVNb3VzZVVwIiwib25Nb3VzZVVwIiwiaGFuZGxlTW91c2VMZWF2ZSIsIm9uTW91c2VMZWF2ZSIsImhhbmRsZU1vdXNlRW50ZXIiLCJvbk1vdXNlRW50ZXIiLCJoYW5kbGVUb3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0IiwiaGFuZGxlVG91Y2hFbmQiLCJvblRvdWNoRW5kIiwiaGFuZGxlS2V5Ym9hcmRGb2N1cyIsIm5leHRTdGF0ZSIsImJ1dHRvblN0eWxlIiwibGFiZWxTdHlsZSIsInJpcHBsZVN0eWxlIiwibWVyZ2VkUmlwcGxlU3R5bGVzIiwiYnV0dG9uRXZlbnRIYW5kbGVycyIsIm9uS2V5Ym9hcmRGb2N1cyIsImxhYmVsRWxlbWVudCIsImljb25DbG9uZWQiLCJlbmhhbmNlZEJ1dHRvbkNoaWxkcmVuIiwiZm9jdXNSaXBwbGVDb2xvciIsInRvdWNoUmlwcGxlQ29sb3IiLCJmb2N1c1JpcHBsZU9wYWNpdHkiLCJ0b3VjaFJpcHBsZU9wYWNpdHkiLCIzNDQiLCJfcHVyZSIsIl9wdXJlMiIsIl9TdmdJY29uIiwiX1N2Z0ljb24yIiwiSGFyZHdhcmVLZXlib2FyZEFycm93RG93biIsImQiLCIzNDUiLCJIYXJkd2FyZUtleWJvYXJkQXJyb3dVcCJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkMsSUFDQSxTQUFVQyxFQUFRQyxFQUFTQyxHQUVqQyxZQzZDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FFN0UsUUFBQUcsS0FDQSxPQUNBQyxNQUNBQyxJQUFB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LFFBQUFGLEdBaEI3RVUsT0FBQUMsZUFBQWQsRUFBQSxjQUNBZSxPQUFBLEdBR0EsSUFBQWEsR0FBQTNCLEVBQUEsR0FFQTRCLEVBQUEzQixFQUFBMEIsR0FFQXVTLEVBQUFsVSxFQUFBLElBRUFtVSxFQUFBbFUsRUFBQWlVLEdBRUFFLEVBQUFwVSxFQUFBLElBRUFxVSxFQUFBcFUsRUFBQW1VLEdBSUFFLEVBQUEsU0FBQXpSLEdBQ0EsTUFBQWpCLEdBQUF4QixRQUFBMkMsY0FDQXNSLEVBQUFqVSxRQUNBeUMsRUFDQWpCLEVBQUF4QixRQUFBMkMsY0FBQSxRQUEyQ3dSLEVBQUEscURBRzNDRCxJQUFBLEVBQUFILEVBQUEvVCxTQUFBa1UsR0FDQUEsRUFBQW5PLFlBQUEsNEJBQ0FtTyxFQUFBaEssUUFBQSxVQUVBdkssRUFBQUssUUFBQWtVLEdkMGtFTUUsSUFDQSxTQUFVMVUsRUFBUUMsRUFBU0MsR0FFakMsWWUxbEVBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQWhCN0VVLE9BQUFDLGVBQUFkLEVBQUEsY0FDQWUsT0FBQSxHQUdBLElBQUFhLEdBQUEzQixFQUFBLEdBRUE0QixFQUFBM0IsRUFBQTBCLEdBRUF1UyxFQUFBbFUsRUFBQSxJQUVBbVUsRUFBQWxVLEVBQUFpVSxHQUVBRSxFQUFBcFUsRUFBQSxJQUVBcVUsRUFBQXBVLEVBQUFtVSxHQUlBSyxFQUFBLFNBQUE1UixHQUNBLE1BQUFqQixHQUFBeEIsUUFBQTJDLGNBQ0FzUixFQUFBalUsUUFDQXlDLEVBQ0FqQixFQUFBeEIsUUFBQTJDLGNBQUEsUUFBMkN3UixFQUFBLG9EQUczQ0UsSUFBQSxFQUFBTixFQUFBL1QsU0FBQXFVLEdBQ0FBLEVBQUF0TyxZQUFBLDBCQUNBc08sRUFBQW5LLFFBQUEsVUFFQXZLLEVBQUFLLFFBQUFxVSxLZmluRUciLCJmaWxlIjoibG9naW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFsxXSx7XG5cbi8qKiovIDE0NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9rZXlib2FyZEFycm93VXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NSk7XG5cbnZhciBfa2V5Ym9hcmRBcnJvd1VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2tleWJvYXJkQXJyb3dVcCk7XG5cbnZhciBfa2V5Ym9hcmRBcnJvd0Rvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NCk7XG5cbnZhciBfa2V5Ym9hcmRBcnJvd0Rvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5Ym9hcmRBcnJvd0Rvd24pO1xuXG52YXIgX0ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KTtcblxudmFyIF9JY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25CdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMoKSB7XG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgcmlnaHQ6IDQsXG4gICAgICBtYXJnaW46ICdhdXRvJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgQ2FyZEV4cGFuZGFibGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDYXJkRXhwYW5kYWJsZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FyZEV4cGFuZGFibGUoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FyZEV4cGFuZGFibGUpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChDYXJkRXhwYW5kYWJsZS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FyZEV4cGFuZGFibGUpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhcmRFeHBhbmRhYmxlLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfSWNvbkJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHRoaXMucHJvcHMuc3R5bGUpLFxuICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMucHJvcHMub25FeHBhbmRpbmcsXG4gICAgICAgICAgaWNvblN0eWxlOiB0aGlzLnByb3BzLmljb25TdHlsZVxuICAgICAgICB9LFxuICAgICAgICB0aGlzLnByb3BzLmV4cGFuZGVkID8gdGhpcy5wcm9wcy5vcGVuSWNvbiA6IHRoaXMucHJvcHMuY2xvc2VJY29uXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FyZEV4cGFuZGFibGU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYXJkRXhwYW5kYWJsZS5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2FyZEV4cGFuZGFibGUuZGVmYXVsdFByb3BzID0ge1xuICBjbG9zZUljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9rZXlib2FyZEFycm93RG93bjIuZGVmYXVsdCwgbnVsbCksXG4gIG9wZW5JY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfa2V5Ym9hcmRBcnJvd1VwMi5kZWZhdWx0LCBudWxsKVxufTtcbkNhcmRFeHBhbmRhYmxlLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgY2xvc2VJY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIGV4cGFuZGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGljb25TdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG9uRXhwYW5kaW5nOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgb3Blbkljb246IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYXJkRXhwYW5kYWJsZTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE4NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMuQ2FyZEV4cGFuZGFibGUgPSBleHBvcnRzLkNhcmRBY3Rpb25zID0gZXhwb3J0cy5DYXJkVGV4dCA9IGV4cG9ydHMuQ2FyZE1lZGlhID0gZXhwb3J0cy5DYXJkVGl0bGUgPSBleHBvcnRzLkNhcmRIZWFkZXIgPSBleHBvcnRzLkNhcmQgPSB1bmRlZmluZWQ7XG5cbnZhciBfQ2FyZDIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5Nyk7XG5cbnZhciBfQ2FyZDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYXJkMik7XG5cbnZhciBfQ2FyZEhlYWRlcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5OSk7XG5cbnZhciBfQ2FyZEhlYWRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYXJkSGVhZGVyMik7XG5cbnZhciBfQ2FyZFRpdGxlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzAyKTtcblxudmFyIF9DYXJkVGl0bGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZFRpdGxlMik7XG5cbnZhciBfQ2FyZE1lZGlhMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzAwKTtcblxudmFyIF9DYXJkTWVkaWEzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZE1lZGlhMik7XG5cbnZhciBfQ2FyZFRleHQyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDEpO1xuXG52YXIgX0NhcmRUZXh0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhcmRUZXh0Mik7XG5cbnZhciBfQ2FyZEFjdGlvbnMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOTgpO1xuXG52YXIgX0NhcmRBY3Rpb25zMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhcmRBY3Rpb25zMik7XG5cbnZhciBfQ2FyZEV4cGFuZGFibGUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDUpO1xuXG52YXIgX0NhcmRFeHBhbmRhYmxlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhcmRFeHBhbmRhYmxlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuQ2FyZCA9IF9DYXJkMy5kZWZhdWx0O1xuZXhwb3J0cy5DYXJkSGVhZGVyID0gX0NhcmRIZWFkZXIzLmRlZmF1bHQ7XG5leHBvcnRzLkNhcmRUaXRsZSA9IF9DYXJkVGl0bGUzLmRlZmF1bHQ7XG5leHBvcnRzLkNhcmRNZWRpYSA9IF9DYXJkTWVkaWEzLmRlZmF1bHQ7XG5leHBvcnRzLkNhcmRUZXh0ID0gX0NhcmRUZXh0My5kZWZhdWx0O1xuZXhwb3J0cy5DYXJkQWN0aW9ucyA9IF9DYXJkQWN0aW9uczMuZGVmYXVsdDtcbmV4cG9ydHMuQ2FyZEV4cGFuZGFibGUgPSBfQ2FyZEV4cGFuZGFibGUzLmRlZmF1bHQ7XG5leHBvcnRzLmRlZmF1bHQgPSBfQ2FyZDMuZGVmYXVsdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE4Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9SYWlzZWRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxNyk7XG5cbnZhciBfUmFpc2VkQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JhaXNlZEJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9SYWlzZWRCdXR0b24yLmRlZmF1bHQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAyMDY6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9NdWlUaGVtZVByb3ZpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG5cbnZhciBfTXVpVGhlbWVQcm92aWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NdWlUaGVtZVByb3ZpZGVyKTtcblxudmFyIF9SYWlzZWRCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nyk7XG5cbnZhciBfUmFpc2VkQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JhaXNlZEJ1dHRvbik7XG5cbnZhciBfVGV4dEZpZWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXG52YXIgX1RleHRGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0RmllbGQpO1xuXG52YXIgX0NhcmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NCk7XG5cbnZhciBfRmxhdEJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXG52YXIgX0ZsYXRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmxhdEJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qIEVTVEUgRlJBR01FTlRPIERFIENPRElHTyBFUyBSRVFVRVJJRE8gUEFSQSBMT1MgRVZFTlRPUyBERSBUSVBPIFRPVUNIIE8gQ0xJQ0sgRU4gQ09NUE9ORU5URVMgTUFURVJJQUwtVUkgKi9cbnZhciBpbmplY3RUYXBFdmVudFBsdWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpO1xuaW5qZWN0VGFwRXZlbnRQbHVnaW4oKTtcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbnZhciBMb2dpbiA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG4gICAgZGlzcGxheU5hbWU6ICdMb2dpbicsXG5cbiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlN1Ym1pdGluZyBmb3JtXCIpO1xuICAgICAgICBpZiAodGhpcy5mb3JtKSB0aGlzLmZvcm0uc3VibWl0KCk7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6IFwicmdiYSgwLCAwLCAwLCAwLjg3KVwiLCBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiKDAsIDE4OCwgMjEyKVwiLCB0cmFuc2l0aW9uOiBcImFsbCA0NTBtcyBjdWJpYy1iZXppZXIoMC4yMywgMSwgMC4zMiwgMSkgMG1zXCIsIGJveFNpemluZzogXCJib3JkZXItYm94XCIsIGZvbnRGYW1pbHk6IFwiUm9ib3RvLCBzYW5zLXNlcmlmXCIsIGJveFNoYWRvdzogXCJyZ2JhKDAsIDAsIDAsIDAuMTIpIDBweCAxcHggNnB4LCByZ2JhKDAsIDAsIDAsIDAuMTIpIDBweCAxcHggNHB4XCIsIGJvcmRlclJhZGl1czogXCIwcHhcIiwgcG9zaXRpb246IFwicmVsYXRpdmVcIiwgekluZGV4OiAxMTAwLCB3aWR0aDogXCIxMDAlXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBwYWRkaW5nTGVmdDogXCIyNHB4XCIsIHBhZGRpbmdSaWdodDogXCIyNHB4XCIgfSB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnaDEnLFxuICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiB7IHdoaXRlU3BhY2U6IFwibm93cmFwXCIsIG92ZXJmbG93OiBcImhpZGRlblwiLCB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIiwgbWFyZ2luOiBcIjBweFwiLCBwYWRkaW5nVG9wOiBcIjBweFwiLCBsZXR0ZXJTcGFjaW5nOiBcIjBweFwiLCBmb250U2l6ZTogXCIyNHB4XCIsIGZvbnRXZWlnaHQ6IDQwMCwgY29sb3I6IFwicmdiKDI1NSwgMjU1LCAyNTUpXCIsIGhlaWdodDogXCI2NHB4XCIsIGxpbmVIZWlnaHQ6IFwiNjRweFwiLCBmbGV4OiBcIjEgMSAwJVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgJ0luaWNpYXIgc2VzaW9uJ1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfTXVpVGhlbWVQcm92aWRlcjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfQ2FyZC5DYXJkLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FyZC5DYXJkSGVhZGVyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0luaWNpYXIgc2VzaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnSW5pY2lhIHNlc2lvbiBjb24gdW5hIGN1ZW50YSBleGlzdGVudGUgZW4gQklORElFLicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RBc0V4cGFuZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0V4cGFuZGFibGVCdXR0b246IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgX0NhcmQuQ2FyZFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGV4cGFuZGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmb3JtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG1ldGhvZDogJ1BPU1QnLCBhY3Rpb246ICcvbG9naW4nLCByZWY6IGZ1bmN0aW9uIHJlZihmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5mb3JtID0gZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UZXh0RmllbGQyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2VtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludDogJ2VtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ6ICdlbWFpbCcgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRGaWVsZDIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAncGFzc3dvcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50VGV4dDogJ1Bhc3N3b3JkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ6ICdQYXNzd29yZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwYXNzd29yZCcgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfQ2FyZC5DYXJkQWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmxhdEJ1dHRvbjIuZGVmYXVsdCwgeyBsYWJlbDogJ0luaWNpYXIgc2VzaW9uJywgb25DbGljazogdGhpcy5zdWJtaXRGb3JtIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cbl9yZWFjdERvbTIuZGVmYXVsdC5yZW5kZXIoX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTG9naW4sIG51bGwpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDI5NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0KSB7XG4gIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSBwcm9wcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBjb2xvciA9IHByb3BzLmNvbG9yLFxuICAgICAgc2l6ZSA9IHByb3BzLnNpemU7XG4gIHZhciBhdmF0YXIgPSBjb250ZXh0Lm11aVRoZW1lLmF2YXRhcjtcblxuXG4gIHZhciBzdHlsZXMgPSB7XG4gICAgcm9vdDoge1xuICAgICAgY29sb3I6IGNvbG9yIHx8IGF2YXRhci5jb2xvcixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yIHx8IGF2YXRhci5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBmb250U2l6ZTogc2l6ZSAvIDIsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgd2lkdGg6IHNpemVcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgIGNvbG9yOiBjb2xvciB8fCBhdmF0YXIuY29sb3IsXG4gICAgICB3aWR0aDogc2l6ZSAqIDAuNixcbiAgICAgIGhlaWdodDogc2l6ZSAqIDAuNixcbiAgICAgIGZvbnRTaXplOiBzaXplICogMC42LFxuICAgICAgbWFyZ2luOiBzaXplICogMC4yXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBBdmF0YXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShBdmF0YXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEF2YXRhcigpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBBdmF0YXIpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChBdmF0YXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEF2YXRhcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQXZhdGFyLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IF9wcm9wcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgaWNvbiA9IF9wcm9wcy5pY29uLFxuICAgICAgICAgIHNyYyA9IF9wcm9wcy5zcmMsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydiYWNrZ3JvdW5kQ29sb3InLCAnaWNvbicsICdzcmMnLCAnc3R5bGUnLCAnY2xhc3NOYW1lJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuXG4gICAgICBpZiAoc3JjKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG4gICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpXG4gICAgICAgIH0sIG90aGVyLCB7XG4gICAgICAgICAgc3JjOiBzcmMsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSksXG4gICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGljb24gJiYgX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChpY29uLCB7XG4gICAgICAgICAgICBjb2xvcjogc3R5bGVzLmljb24uY29sb3IsXG4gICAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5pY29uLCBpY29uLnByb3BzLnN0eWxlKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEF2YXRhcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkF2YXRhci5tdWlOYW1lID0gJ0F2YXRhcic7XG5BdmF0YXIuZGVmYXVsdFByb3BzID0ge1xuICBzaXplOiA0MFxufTtcbkF2YXRhci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQXZhdGFyLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgLyoqXG4gICAqIFRoZSBiYWNrZ3JvdW5kQ29sb3Igb2YgdGhlIGF2YXRhci4gRG9lcyBub3QgYXBwbHkgdG8gaW1hZ2UgYXZhdGFycy5cbiAgICovXG4gIGJhY2tncm91bmRDb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCwgZm9yIGluc3RhbmNlLCB0byByZW5kZXIgYSBsZXR0ZXIgaW5zaWRlIHRoZSBhdmF0YXIuXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIGNzcyBjbGFzcyBuYW1lIG9mIHRoZSByb290IGBkaXZgIG9yIGBpbWdgIGVsZW1lbnQuXG4gICAqL1xuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIGljb24gb3IgbGV0dGVyJ3MgY29sb3IuXG4gICAqL1xuICBjb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBTdmdJY29uIG9yIEZvbnRJY29uIHRvIGJlIHVzZWQgaW5zaWRlIHRoZSBhdmF0YXIuXG4gICAqL1xuICBpY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQsXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBzaXplIG9mIHRoZSBhdmF0YXIgaW4gcGl4ZWxzLlxuICAgKi9cbiAgc2l6ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBJZiBwYXNzZWQgaW4sIHRoaXMgY29tcG9uZW50IHdpbGwgcmVuZGVyIGFuIGltZyBlbGVtZW50LiBPdGhlcndpc2UsIGEgZGl2IHdpbGwgYmUgcmVuZGVyZWQuXG4gICAqL1xuICBzcmM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQXZhdGFyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMjk2OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX0F2YXRhciA9IF9fd2VicGFja19yZXF1aXJlX18oMjk1KTtcblxudmFyIF9BdmF0YXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQXZhdGFyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX0F2YXRhcjIuZGVmYXVsdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDI5Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9QYXBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXG52YXIgX1BhcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcGVyKTtcblxudmFyIF9DYXJkRXhwYW5kYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcblxudmFyIF9DYXJkRXhwYW5kYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYXJkRXhwYW5kYWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBDYXJkID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2FyZCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FyZCgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDYXJkKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoX3JlZiA9IENhcmQuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhcmQpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGV4cGFuZGVkOiBudWxsXG4gICAgfSwgX3RoaXMuaGFuZGxlRXhwYW5kaW5nID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIG5ld0V4cGFuZGVkU3RhdGUgPSAhX3RoaXMuc3RhdGUuZXhwYW5kZWQ7XG4gICAgICAvLyBubyBhdXRvbWF0aWMgc3RhdGUgdXBkYXRlIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBjb250cm9sbGVkXG4gICAgICBpZiAoX3RoaXMucHJvcHMuZXhwYW5kZWQgPT09IG51bGwpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBleHBhbmRlZDogbmV3RXhwYW5kZWRTdGF0ZSB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkV4cGFuZENoYW5nZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkV4cGFuZENoYW5nZShuZXdFeHBhbmRlZFN0YXRlKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2FyZCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXhwYW5kZWQ6IHRoaXMucHJvcHMuZXhwYW5kZWQgPT09IG51bGwgPyB0aGlzLnByb3BzLmluaXRpYWxseUV4cGFuZGVkID09PSB0cnVlIDogdGhpcy5wcm9wcy5leHBhbmRlZFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAvLyB1cGRhdGUgdGhlIHN0YXRlIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBjb250cm9sbGVkLlxuICAgICAgaWYgKG5leHRQcm9wcy5leHBhbmRlZCAhPT0gbnVsbCkgdGhpcy5zZXRTdGF0ZSh7IGV4cGFuZGVkOiBuZXh0UHJvcHMuZXhwYW5kZWQgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIGNvbnRhaW5lclN0eWxlID0gX3Byb3BzLmNvbnRhaW5lclN0eWxlLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGV4cGFuZGFibGUgPSBfcHJvcHMuZXhwYW5kYWJsZSxcbiAgICAgICAgICBleHBhbmRlZFByb3AgPSBfcHJvcHMuZXhwYW5kZWQsXG4gICAgICAgICAgaW5pdGlhbGx5RXhwYW5kZWQgPSBfcHJvcHMuaW5pdGlhbGx5RXhwYW5kZWQsXG4gICAgICAgICAgb25FeHBhbmRDaGFuZ2UgPSBfcHJvcHMub25FeHBhbmRDaGFuZ2UsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnc3R5bGUnLCAnY29udGFpbmVyU3R5bGUnLCAnY2hpbGRyZW4nLCAnZXhwYW5kYWJsZScsICdleHBhbmRlZCcsICdpbml0aWFsbHlFeHBhbmRlZCcsICdvbkV4cGFuZENoYW5nZSddKTtcblxuXG4gICAgICB2YXIgbGFzdEVsZW1lbnQgPSB2b2lkIDA7XG4gICAgICB2YXIgZXhwYW5kZWQgPSB0aGlzLnN0YXRlLmV4cGFuZGVkO1xuICAgICAgdmFyIG5ld0NoaWxkcmVuID0gX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGN1cnJlbnRDaGlsZCkge1xuICAgICAgICB2YXIgZG9DbG9uZSA9IGZhbHNlO1xuICAgICAgICB2YXIgbmV3Q2hpbGQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBuZXdQcm9wcyA9IHt9O1xuICAgICAgICB2YXIgZWxlbWVudCA9IGN1cnJlbnRDaGlsZDtcbiAgICAgICAgaWYgKCFjdXJyZW50Q2hpbGQgfHwgIWN1cnJlbnRDaGlsZC5wcm9wcykge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHBhbmRlZCA9PT0gZmFsc2UgJiYgY3VycmVudENoaWxkLnByb3BzLmV4cGFuZGFibGUgPT09IHRydWUpIHJldHVybjtcbiAgICAgICAgaWYgKGN1cnJlbnRDaGlsZC5wcm9wcy5hY3RBc0V4cGFuZGVyID09PSB0cnVlKSB7XG4gICAgICAgICAgZG9DbG9uZSA9IHRydWU7XG4gICAgICAgICAgbmV3UHJvcHMub25Ub3VjaFRhcCA9IF90aGlzMi5oYW5kbGVFeHBhbmRpbmc7XG4gICAgICAgICAgbmV3UHJvcHMuc3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoeyBjdXJzb3I6ICdwb2ludGVyJyB9LCBjdXJyZW50Q2hpbGQucHJvcHMuc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50Q2hpbGQucHJvcHMuc2hvd0V4cGFuZGFibGVCdXR0b24gPT09IHRydWUpIHtcbiAgICAgICAgICBkb0Nsb25lID0gdHJ1ZTtcbiAgICAgICAgICBuZXdDaGlsZCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DYXJkRXhwYW5kYWJsZTIuZGVmYXVsdCwge1xuICAgICAgICAgICAgY2xvc2VJY29uOiBjdXJyZW50Q2hpbGQucHJvcHMuY2xvc2VJY29uLFxuICAgICAgICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuICAgICAgICAgICAgb25FeHBhbmRpbmc6IF90aGlzMi5oYW5kbGVFeHBhbmRpbmcsXG4gICAgICAgICAgICBvcGVuSWNvbjogY3VycmVudENoaWxkLnByb3BzLm9wZW5JY29uLFxuICAgICAgICAgICAgaWNvblN0eWxlOiBjdXJyZW50Q2hpbGQucHJvcHMuaWNvblN0eWxlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvQ2xvbmUpIHtcbiAgICAgICAgICBlbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChjdXJyZW50Q2hpbGQsIG5ld1Byb3BzLCBjdXJyZW50Q2hpbGQucHJvcHMuY2hpbGRyZW4sIG5ld0NoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfSwgdGhpcyk7XG5cbiAgICAgIC8vIElmIHRoZSBsYXN0IGVsZW1lbnQgaXMgdGV4dCBvciBhIHRpdGxlIHdlIHNob3VsZCBhZGRcbiAgICAgIC8vIDhweCBwYWRkaW5nIHRvIHRoZSBib3R0b20gb2YgdGhlIGNhcmRcbiAgICAgIHZhciBhZGRCb3R0b21QYWRkaW5nID0gbGFzdEVsZW1lbnQgJiYgKGxhc3RFbGVtZW50LnR5cGUubXVpTmFtZSA9PT0gJ0NhcmRUZXh0JyB8fCBsYXN0RWxlbWVudC50eXBlLm11aU5hbWUgPT09ICdDYXJkVGl0bGUnKTtcblxuICAgICAgdmFyIG1lcmdlZFN0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7XG4gICAgICAgIHpJbmRleDogMVxuICAgICAgfSwgc3R5bGUpO1xuICAgICAgdmFyIGNvbnRhaW5lck1lcmdlZFN0eWxlcyA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7XG4gICAgICAgIHBhZGRpbmdCb3R0b206IGFkZEJvdHRvbVBhZGRpbmcgPyA4IDogMFxuICAgICAgfSwgY29udGFpbmVyU3R5bGUpO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IG1lcmdlZFN0eWxlcyB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogY29udGFpbmVyTWVyZ2VkU3R5bGVzIH0sXG4gICAgICAgICAgbmV3Q2hpbGRyZW5cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhcmQ7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYXJkLmRlZmF1bHRQcm9wcyA9IHtcbiAgZXhwYW5kYWJsZTogZmFsc2UsXG4gIGV4cGFuZGVkOiBudWxsLFxuICBpbml0aWFsbHlFeHBhbmRlZDogZmFsc2Vcbn07XG5DYXJkLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHJlbmRlciBlbGVtZW50cyBpbnNpZGUgdGhlIENhcmQuXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGNvbnRhaW5lciBlbGVtZW50LlxuICAgKi9cbiAgY29udGFpbmVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhpcyBjYXJkIGNvbXBvbmVudCBpcyBleHBhbmRhYmxlLiBDYW4gYmUgc2V0IG9uIGFueSBjaGlsZCBvZiB0aGUgYENhcmRgIGNvbXBvbmVudC5cbiAgICovXG4gIGV4cGFuZGFibGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBjYXJkIGlzIGV4cGFuZGVkLlxuICAgKiBJZiBgdHJ1ZWAgb3IgYGZhbHNlYCB0aGUgY29tcG9uZW50IGlzIGNvbnRyb2xsZWQuXG4gICAqIGlmIGBudWxsYCB0aGUgY29tcG9uZW50IGlzIHVuY29udHJvbGxlZC5cbiAgICovXG4gIGV4cGFuZGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgY2FyZCBpcyBpbml0aWFsbHkgZXhwYW5kZWQuXG4gICAqL1xuICBpbml0aWFsbHlFeHBhbmRlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZmlyZWQgd2hlbiB0aGUgYGV4cGFuZGFibGVgIHN0YXRlIG9mIHRoZSBjYXJkIGhhcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5ld0V4cGFuZGVkU3RhdGUgUmVwcmVzZW50cyB0aGUgbmV3IGBleHBhbmRlZGAgc3RhdGUgb2YgdGhlIGNhcmQuXG4gICAqL1xuICBvbkV4cGFuZENoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhpcyBjYXJkIGNvbXBvbmVudCB3aWxsIGluY2x1ZGUgYSBidXR0b24gdG8gZXhwYW5kIHRoZSBjYXJkLiBgQ2FyZFRpdGxlYCxcbiAgICogYENhcmRIZWFkZXJgIGFuZCBgQ2FyZEFjdGlvbnNgIGltcGxlbWVudCBgc2hvd0V4cGFuZGFibGVCdXR0b25gLiBBbnkgY2hpbGQgY29tcG9uZW50XG4gICAqIG9mIGBDYXJkYCBjYW4gaW1wbGVtZW50cyBgc2hvd0V4cGFuZGFibGVCdXR0b25gIG9yIGZvcndhcmRzIHRoZSBwcm9wZXJ0eSB0byBhIGNoaWxkXG4gICAqIGNvbXBvbmVudCBzdXBwb3J0aW5nIGl0LlxuICAgKi9cbiAgc2hvd0V4cGFuZGFibGVCdXR0b246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhcmQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAyOTg6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcygpIHtcbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBwYWRkaW5nOiA4LFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9LFxuICAgIGFjdGlvbjoge1xuICAgICAgbWFyZ2luUmlnaHQ6IDhcbiAgICB9XG4gIH07XG59XG5cbnZhciBDYXJkQWN0aW9ucyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhcmRBY3Rpb25zLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXJkQWN0aW9ucygpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDYXJkQWN0aW9ucyk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKENhcmRBY3Rpb25zLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDYXJkQWN0aW9ucykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2FyZEFjdGlvbnMsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0QXNFeHBhbmRlciA9IF9wcm9wcy5hY3RBc0V4cGFuZGVyLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGV4cGFuZGFibGUgPSBfcHJvcHMuZXhwYW5kYWJsZSxcbiAgICAgICAgICBzaG93RXhwYW5kYWJsZUJ1dHRvbiA9IF9wcm9wcy5zaG93RXhwYW5kYWJsZUJ1dHRvbixcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhY3RBc0V4cGFuZGVyJywgJ2NoaWxkcmVuJywgJ2V4cGFuZGFibGUnLCAnc2hvd0V4cGFuZGFibGVCdXR0b24nLCAnc3R5bGUnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG5cbiAgICAgIHZhciBzdHlsZWRDaGlsZHJlbiA9IF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoX3JlYWN0Mi5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMuYWN0aW9uLCBjaGlsZC5wcm9wcy5zdHlsZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMucm9vdCwgc3R5bGUpKSB9KSxcbiAgICAgICAgc3R5bGVkQ2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYXJkQWN0aW9ucztcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNhcmRBY3Rpb25zLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DYXJkQWN0aW9ucy5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIC8qKlxuICAgKiBJZiB0cnVlLCBhIGNsaWNrIG9uIHRoaXMgY2FyZCBjb21wb25lbnQgZXhwYW5kcyB0aGUgY2FyZC5cbiAgICovXG4gIGFjdEFzRXhwYW5kZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHJlbmRlciBlbGVtZW50cyBpbnNpZGUgdGhlIENhcmQgQWN0aW9uLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgY2FyZCBjb21wb25lbnQgaXMgZXhwYW5kYWJsZS5cbiAgICovXG4gIGV4cGFuZGFibGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgY2FyZCBjb21wb25lbnQgd2lsbCBpbmNsdWRlIGEgYnV0dG9uIHRvIGV4cGFuZCB0aGUgY2FyZC5cbiAgICovXG4gIHNob3dFeHBhbmRhYmxlQnV0dG9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYXJkQWN0aW9ucztcblxuLyoqKi8gfSksXG5cbi8qKiovIDI5OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9BdmF0YXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5Nik7XG5cbnZhciBfQXZhdGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0F2YXRhcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgY2FyZCA9IGNvbnRleHQubXVpVGhlbWUuY2FyZDtcblxuXG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgcGFkZGluZzogMTYsXG4gICAgICBmb250V2VpZ2h0OiBjYXJkLmZvbnRXZWlnaHQsXG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCdcbiAgICB9LFxuICAgIHRleHQ6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJyxcbiAgICAgIHBhZGRpbmdSaWdodDogJzkwcHgnXG4gICAgfSxcbiAgICBhdmF0YXI6IHtcbiAgICAgIG1hcmdpblJpZ2h0OiAxNlxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgIGNvbG9yOiBwcm9wcy50aXRsZUNvbG9yIHx8IGNhcmQudGl0bGVDb2xvcixcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBmb250U2l6ZTogMTVcbiAgICB9LFxuICAgIHN1YnRpdGxlOiB7XG4gICAgICBjb2xvcjogcHJvcHMuc3VidGl0bGVDb2xvciB8fCBjYXJkLnN1YnRpdGxlQ29sb3IsXG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgZm9udFNpemU6IDE0XG4gICAgfVxuICB9O1xufVxuXG52YXIgQ2FyZEhlYWRlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhcmRIZWFkZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhcmRIZWFkZXIoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FyZEhlYWRlcik7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKENhcmRIZWFkZXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhcmRIZWFkZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhcmRIZWFkZXIsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0QXNFeHBhbmRlciA9IF9wcm9wcy5hY3RBc0V4cGFuZGVyLFxuICAgICAgICAgIGF2YXRhclByb3AgPSBfcHJvcHMuYXZhdGFyLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGNsb3NlSWNvbiA9IF9wcm9wcy5jbG9zZUljb24sXG4gICAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wcy5leHBhbmRhYmxlLFxuICAgICAgICAgIG9wZW5JY29uID0gX3Byb3BzLm9wZW5JY29uLFxuICAgICAgICAgIHNob3dFeHBhbmRhYmxlQnV0dG9uID0gX3Byb3BzLnNob3dFeHBhbmRhYmxlQnV0dG9uLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHN1YnRpdGxlID0gX3Byb3BzLnN1YnRpdGxlLFxuICAgICAgICAgIHN1YnRpdGxlQ29sb3IgPSBfcHJvcHMuc3VidGl0bGVDb2xvcixcbiAgICAgICAgICBzdWJ0aXRsZVN0eWxlID0gX3Byb3BzLnN1YnRpdGxlU3R5bGUsXG4gICAgICAgICAgdGV4dFN0eWxlID0gX3Byb3BzLnRleHRTdHlsZSxcbiAgICAgICAgICB0aXRsZSA9IF9wcm9wcy50aXRsZSxcbiAgICAgICAgICB0aXRsZUNvbG9yID0gX3Byb3BzLnRpdGxlQ29sb3IsXG4gICAgICAgICAgdGl0bGVTdHlsZSA9IF9wcm9wcy50aXRsZVN0eWxlLFxuICAgICAgICAgIGljb25TdHlsZSA9IF9wcm9wcy5pY29uU3R5bGUsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnYWN0QXNFeHBhbmRlcicsICdhdmF0YXInLCAnY2hpbGRyZW4nLCAnY2xvc2VJY29uJywgJ2V4cGFuZGFibGUnLCAnb3Blbkljb24nLCAnc2hvd0V4cGFuZGFibGVCdXR0b24nLCAnc3R5bGUnLCAnc3VidGl0bGUnLCAnc3VidGl0bGVDb2xvcicsICdzdWJ0aXRsZVN0eWxlJywgJ3RleHRTdHlsZScsICd0aXRsZScsICd0aXRsZUNvbG9yJywgJ3RpdGxlU3R5bGUnLCAnaWNvblN0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuXG4gICAgICB2YXIgYXZhdGFyID0gYXZhdGFyUHJvcDtcblxuICAgICAgaWYgKCgwLCBfcmVhY3QuaXNWYWxpZEVsZW1lbnQpKGF2YXRhclByb3ApKSB7XG4gICAgICAgIGF2YXRhciA9IF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoYXZhdGFyLCB7XG4gICAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYXZhdGFyLCBhdmF0YXIucHJvcHMuc3R5bGUpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChhdmF0YXIgIT09IG51bGwpIHtcbiAgICAgICAgYXZhdGFyID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0F2YXRhcjIuZGVmYXVsdCwgeyBzcmM6IGF2YXRhclByb3AsIHN0eWxlOiBzdHlsZXMuYXZhdGFyIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSkgfSksXG4gICAgICAgIGF2YXRhcixcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnRleHQsIHRleHRTdHlsZSkpIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMudGl0bGUsIHRpdGxlU3R5bGUpKSB9LFxuICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnN1YnRpdGxlLCBzdWJ0aXRsZVN0eWxlKSkgfSxcbiAgICAgICAgICAgIHN1YnRpdGxlXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBjaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhcmRIZWFkZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYXJkSGVhZGVyLm11aU5hbWUgPSAnQ2FyZEhlYWRlcic7XG5DYXJkSGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYXZhdGFyOiBudWxsXG59O1xuQ2FyZEhlYWRlci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2FyZEhlYWRlci5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIC8qKlxuICAgKiBJZiB0cnVlLCBhIGNsaWNrIG9uIHRoaXMgY2FyZCBjb21wb25lbnQgZXhwYW5kcyB0aGUgY2FyZC5cbiAgICovXG4gIGFjdEFzRXhwYW5kZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIFtBdmF0YXJdKC8jL2NvbXBvbmVudHMvYXZhdGFyKSBlbGVtZW50IHRvIGJlIGRpc3BsYXllZCBvbiB0aGUgQ2FyZCBIZWFkZXIuXG4gICAqIElmIGBhdmF0YXJgIGlzIGFuIGBBdmF0YXJgIG9yIG90aGVyIGVsZW1lbnQsIGl0IHdpbGwgYmUgcmVuZGVyZWQuXG4gICAqIElmIGBhdmF0YXJgIGlzIGEgc3RyaW5nLCBpdCB3aWxsIGJlIHVzZWQgYXMgdGhlIGltYWdlIGBzcmNgIGZvciBhbiBgQXZhdGFyYC5cbiAgICovXG4gIGF2YXRhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogQ2FuIGJlIHVzZWQgdG8gcmVuZGVyIGVsZW1lbnRzIGluc2lkZSB0aGUgQ2FyZCBIZWFkZXIuXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogQ2FuIGJlIHVzZWQgdG8gcGFzcyBhIGNsb3NlSWNvbiBpZiB5b3UgZG9uJ3QgbGlrZSB0aGUgZGVmYXVsdCBleHBhbmRhYmxlIGNsb3NlIEljb24uXG4gICAqL1xuICBjbG9zZUljb246IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgY2FyZCBjb21wb25lbnQgaXMgZXhwYW5kYWJsZS5cbiAgICovXG4gIGV4cGFuZGFibGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpY29uU3R5bGUgb2YgdGhlIEljb24gQnV0dG9uLlxuICAgKi9cbiAgaWNvblN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHBhc3MgYSBvcGVuSWNvbiBpZiB5b3UgZG9uJ3QgbGlrZSB0aGUgZGVmYXVsdCBleHBhbmRhYmxlIG9wZW4gSWNvbi5cbiAgICovXG4gIG9wZW5JY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGlzIGNhcmQgY29tcG9uZW50IHdpbGwgaW5jbHVkZSBhIGJ1dHRvbiB0byBleHBhbmQgdGhlIGNhcmQuXG4gICAqL1xuICBzaG93RXhwYW5kYWJsZUJ1dHRvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHJlbmRlciBhIHN1YnRpdGxlIGluIENhcmQgSGVhZGVyLlxuICAgKi9cbiAgc3VidGl0bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBzdWJ0aXRsZSBjb2xvci5cbiAgICovXG4gIHN1YnRpdGxlQ29sb3I6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHN1YnRpdGxlLlxuICAgKi9cbiAgc3VidGl0bGVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgdGV4dC5cbiAgICovXG4gIHRleHRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCB0byByZW5kZXIgYSB0aXRsZSBpbiBDYXJkIEhlYWRlci5cbiAgICovXG4gIHRpdGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgdGl0bGUgY29sb3IuXG4gICAqL1xuICB0aXRsZUNvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSB0aXRsZS5cbiAgICovXG4gIHRpdGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYXJkSGVhZGVyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzAwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGNhcmRNZWRpYSA9IGNvbnRleHQubXVpVGhlbWUuY2FyZE1lZGlhO1xuXG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH0sXG4gICAgb3ZlcmxheUNvbnRhaW5lcjoge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGxlZnQ6IDBcbiAgICB9LFxuICAgIG92ZXJsYXk6IHtcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9LFxuICAgIG92ZXJsYXlDb250ZW50OiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHBhZGRpbmdUb3A6IDgsXG4gICAgICBiYWNrZ3JvdW5kOiBjYXJkTWVkaWEub3ZlcmxheUNvbnRlbnRCYWNrZ3JvdW5kXG4gICAgfSxcbiAgICBtZWRpYToge30sXG4gICAgbWVkaWFDaGlsZDoge1xuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgbWluV2lkdGg6ICcxMDAlJyxcbiAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICB9XG4gIH07XG59XG5cbnZhciBDYXJkTWVkaWEgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDYXJkTWVkaWEsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhcmRNZWRpYSgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDYXJkTWVkaWEpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChDYXJkTWVkaWEuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhcmRNZWRpYSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2FyZE1lZGlhLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGFjdEFzRXhwYW5kZXIgPSBfcHJvcHMuYWN0QXNFeHBhbmRlcixcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBleHBhbmRhYmxlID0gX3Byb3BzLmV4cGFuZGFibGUsXG4gICAgICAgICAgbWVkaWFTdHlsZSA9IF9wcm9wcy5tZWRpYVN0eWxlLFxuICAgICAgICAgIG92ZXJsYXkgPSBfcHJvcHMub3ZlcmxheSxcbiAgICAgICAgICBvdmVybGF5Q29udGFpbmVyU3R5bGUgPSBfcHJvcHMub3ZlcmxheUNvbnRhaW5lclN0eWxlLFxuICAgICAgICAgIG92ZXJsYXlDb250ZW50U3R5bGUgPSBfcHJvcHMub3ZlcmxheUNvbnRlbnRTdHlsZSxcbiAgICAgICAgICBvdmVybGF5U3R5bGUgPSBfcHJvcHMub3ZlcmxheVN0eWxlLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2FjdEFzRXhwYW5kZXInLCAnY2hpbGRyZW4nLCAnZXhwYW5kYWJsZScsICdtZWRpYVN0eWxlJywgJ292ZXJsYXknLCAnb3ZlcmxheUNvbnRhaW5lclN0eWxlJywgJ292ZXJsYXlDb250ZW50U3R5bGUnLCAnb3ZlcmxheVN0eWxlJywgJ3N0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuICAgICAgdmFyIHJvb3RTdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMucm9vdCwgc3R5bGUpO1xuICAgICAgdmFyIGV4dGVuZGVkTWVkaWFTdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMubWVkaWEsIG1lZGlhU3R5bGUpO1xuICAgICAgdmFyIGV4dGVuZGVkT3ZlcmxheUNvbnRhaW5lclN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5vdmVybGF5Q29udGFpbmVyLCBvdmVybGF5Q29udGFpbmVyU3R5bGUpO1xuICAgICAgdmFyIGV4dGVuZGVkT3ZlcmxheUNvbnRlbnRTdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMub3ZlcmxheUNvbnRlbnQsIG92ZXJsYXlDb250ZW50U3R5bGUpO1xuICAgICAgdmFyIGV4dGVuZGVkT3ZlcmxheVN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5vdmVybGF5LCBvdmVybGF5U3R5bGUpO1xuICAgICAgdmFyIHRpdGxlQ29sb3IgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuY2FyZE1lZGlhLnRpdGxlQ29sb3I7XG4gICAgICB2YXIgc3VidGl0bGVDb2xvciA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5jYXJkTWVkaWEuc3VidGl0bGVDb2xvcjtcbiAgICAgIHZhciBjb2xvciA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5jYXJkTWVkaWEuY29sb3I7XG5cbiAgICAgIHZhciBzdHlsZWRDaGlsZHJlbiA9IF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLm1lZGlhQ2hpbGQsIGNoaWxkLnByb3BzLnN0eWxlKSlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIG92ZXJsYXlDaGlsZHJlbiA9IF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5tYXAob3ZlcmxheSwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZC50eXBlLm11aU5hbWUgPT09ICdDYXJkSGVhZGVyJyB8fCBjaGlsZC50eXBlLm11aU5hbWUgPT09ICdDYXJkVGl0bGUnKSB7XG4gICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICAgIHRpdGxlQ29sb3I6IHRpdGxlQ29sb3IsXG4gICAgICAgICAgICBzdWJ0aXRsZUNvbG9yOiBzdWJ0aXRsZUNvbG9yXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZS5tdWlOYW1lID09PSAnQ2FyZFRleHQnKSB7XG4gICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICAgIGNvbG9yOiBjb2xvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHJvb3RTdHlsZSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoZXh0ZW5kZWRNZWRpYVN0eWxlKSB9LFxuICAgICAgICAgIHN0eWxlZENoaWxkcmVuXG4gICAgICAgICksXG4gICAgICAgIG92ZXJsYXkgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKGV4dGVuZGVkT3ZlcmxheUNvbnRhaW5lclN0eWxlKSB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKGV4dGVuZGVkT3ZlcmxheVN0eWxlKSB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKGV4dGVuZGVkT3ZlcmxheUNvbnRlbnRTdHlsZSkgfSxcbiAgICAgICAgICAgICAgb3ZlcmxheUNoaWxkcmVuXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApIDogJydcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYXJkTWVkaWE7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYXJkTWVkaWEuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNhcmRNZWRpYS5wcm9wVHlwZXMgPSAgZmFsc2UgPyB7XG4gIC8qKlxuICAgKiBJZiB0cnVlLCBhIGNsaWNrIG9uIHRoaXMgY2FyZCBjb21wb25lbnQgZXhwYW5kcyB0aGUgY2FyZC5cbiAgICovXG4gIGFjdEFzRXhwYW5kZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHJlbmRlciBlbGVtZW50cyBpbnNpZGUgdGhlIENhcmQgTWVkaWEuXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhpcyBjYXJkIGNvbXBvbmVudCBpcyBleHBhbmRhYmxlLlxuICAgKi9cbiAgZXhwYW5kYWJsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIENhcmQgTWVkaWEuXG4gICAqL1xuICBtZWRpYVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHJlbmRlciBvdmVybGF5IGVsZW1lbnQgaW4gQ2FyZCBNZWRpYS5cbiAgICovXG4gIG92ZXJsYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBvdmVybGF5IGNvbnRhaW5lci5cbiAgICovXG4gIG92ZXJsYXlDb250YWluZXJTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgb3ZlcmxheSBjb250ZW50LlxuICAgKi9cbiAgb3ZlcmxheUNvbnRlbnRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgb3ZlcmxheSBlbGVtZW50LlxuICAgKi9cbiAgb3ZlcmxheVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhcmRNZWRpYTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMwMTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0KSB7XG4gIHZhciBjYXJkVGV4dCA9IGNvbnRleHQubXVpVGhlbWUuY2FyZFRleHQ7XG5cblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHBhZGRpbmc6IDE2LFxuICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgY29sb3I6IHByb3BzLmNvbG9yIHx8IGNhcmRUZXh0LnRleHRDb2xvclxuICAgIH1cbiAgfTtcbn1cblxudmFyIENhcmRUZXh0ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2FyZFRleHQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhcmRUZXh0KCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhcmRUZXh0KTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoQ2FyZFRleHQuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhcmRUZXh0KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYXJkVGV4dCwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhY3RBc0V4cGFuZGVyID0gX3Byb3BzLmFjdEFzRXhwYW5kZXIsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgY29sb3IgPSBfcHJvcHMuY29sb3IsXG4gICAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wcy5leHBhbmRhYmxlLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2FjdEFzRXhwYW5kZXInLCAnY2hpbGRyZW4nLCAnY29sb3InLCAnZXhwYW5kYWJsZScsICdzdHlsZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgIHZhciByb290U3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMocm9vdFN0eWxlKSB9KSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYXJkVGV4dDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNhcmRUZXh0Lm11aU5hbWUgPSAnQ2FyZFRleHQnO1xuQ2FyZFRleHQuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNhcmRUZXh0LnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgLyoqXG4gICAqIElmIHRydWUsIGEgY2xpY2sgb24gdGhpcyBjYXJkIGNvbXBvbmVudCBleHBhbmRzIHRoZSBjYXJkLlxuICAgKi9cbiAgYWN0QXNFeHBhbmRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogQ2FuIGJlIHVzZWQgdG8gcmVuZGVyIGVsZW1lbnRzIGluc2lkZSB0aGUgQ2FyZCBUZXh0LlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBDYXJkVGV4dCBjb2xvci5cbiAgICovXG4gIGNvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgY2FyZCBjb21wb25lbnQgaXMgZXhwYW5kYWJsZS5cbiAgICovXG4gIGV4cGFuZGFibGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhcmRUZXh0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzAyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGNhcmQgPSBjb250ZXh0Lm11aVRoZW1lLmNhcmQ7XG5cblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHBhZGRpbmc6IDE2LFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICBmb250U2l6ZTogMjQsXG4gICAgICBjb2xvcjogcHJvcHMudGl0bGVDb2xvciB8fCBjYXJkLnRpdGxlQ29sb3IsXG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgbGluZUhlaWdodDogJzM2cHgnXG4gICAgfSxcbiAgICBzdWJ0aXRsZToge1xuICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgY29sb3I6IHByb3BzLnN1YnRpdGxlQ29sb3IgfHwgY2FyZC5zdWJ0aXRsZUNvbG9yLFxuICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgIH1cbiAgfTtcbn1cblxudmFyIENhcmRUaXRsZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhcmRUaXRsZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FyZFRpdGxlKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhcmRUaXRsZSk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKENhcmRUaXRsZS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FyZFRpdGxlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYXJkVGl0bGUsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0QXNFeHBhbmRlciA9IF9wcm9wcy5hY3RBc0V4cGFuZGVyLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGNsb3NlSWNvbiA9IF9wcm9wcy5jbG9zZUljb24sXG4gICAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wcy5leHBhbmRhYmxlLFxuICAgICAgICAgIHNob3dFeHBhbmRhYmxlQnV0dG9uID0gX3Byb3BzLnNob3dFeHBhbmRhYmxlQnV0dG9uLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHN1YnRpdGxlID0gX3Byb3BzLnN1YnRpdGxlLFxuICAgICAgICAgIHN1YnRpdGxlQ29sb3IgPSBfcHJvcHMuc3VidGl0bGVDb2xvcixcbiAgICAgICAgICBzdWJ0aXRsZVN0eWxlID0gX3Byb3BzLnN1YnRpdGxlU3R5bGUsXG4gICAgICAgICAgdGl0bGUgPSBfcHJvcHMudGl0bGUsXG4gICAgICAgICAgdGl0bGVDb2xvciA9IF9wcm9wcy50aXRsZUNvbG9yLFxuICAgICAgICAgIHRpdGxlU3R5bGUgPSBfcHJvcHMudGl0bGVTdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhY3RBc0V4cGFuZGVyJywgJ2NoaWxkcmVuJywgJ2Nsb3NlSWNvbicsICdleHBhbmRhYmxlJywgJ3Nob3dFeHBhbmRhYmxlQnV0dG9uJywgJ3N0eWxlJywgJ3N1YnRpdGxlJywgJ3N1YnRpdGxlQ29sb3InLCAnc3VidGl0bGVTdHlsZScsICd0aXRsZScsICd0aXRsZUNvbG9yJywgJ3RpdGxlU3R5bGUnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgICB2YXIgcm9vdFN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMucm9vdCwgc3R5bGUpO1xuICAgICAgdmFyIGV4dGVuZGVkVGl0bGVTdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLnRpdGxlLCB0aXRsZVN0eWxlKTtcbiAgICAgIHZhciBleHRlbmRlZFN1YnRpdGxlU3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5zdWJ0aXRsZSwgc3VidGl0bGVTdHlsZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHJvb3RTdHlsZSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKGV4dGVuZGVkVGl0bGVTdHlsZSkgfSxcbiAgICAgICAgICB0aXRsZVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhleHRlbmRlZFN1YnRpdGxlU3R5bGUpIH0sXG4gICAgICAgICAgc3VidGl0bGVcbiAgICAgICAgKSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYXJkVGl0bGU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYXJkVGl0bGUubXVpTmFtZSA9ICdDYXJkVGl0bGUnO1xuQ2FyZFRpdGxlLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DYXJkVGl0bGUucHJvcFR5cGVzID0gIGZhbHNlID8ge1xuICAvKipcbiAgICogSWYgdHJ1ZSwgYSBjbGljayBvbiB0aGlzIGNhcmQgY29tcG9uZW50IGV4cGFuZHMgdGhlIGNhcmQuXG4gICAqL1xuICBhY3RBc0V4cGFuZGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCB0byByZW5kZXIgZWxlbWVudHMgaW5zaWRlIHRoZSBDYXJkIFRpdGxlLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHBhc3MgYSBjbG9zZUljb24gaWYgeW91IGRvbid0IGxpa2UgdGhlIGRlZmF1bHQgZXhwYW5kYWJsZSBjbG9zZSBJY29uLlxuICAgKi9cbiAgY2xvc2VJY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGlzIGNhcmQgY29tcG9uZW50IGlzIGV4cGFuZGFibGUuXG4gICAqL1xuICBleHBhbmRhYmxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGlzIGNhcmQgY29tcG9uZW50IHdpbGwgaW5jbHVkZSBhIGJ1dHRvbiB0byBleHBhbmQgdGhlIGNhcmQuXG4gICAqL1xuICBzaG93RXhwYW5kYWJsZUJ1dHRvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHJlbmRlciBhIHN1YnRpdGxlIGluIHRoZSBDYXJkIFRpdGxlLlxuICAgKi9cbiAgc3VidGl0bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBzdWJ0aXRsZSBjb2xvci5cbiAgICovXG4gIHN1YnRpdGxlQ29sb3I6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHN1YnRpdGxlLlxuICAgKi9cbiAgc3VidGl0bGVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCB0byByZW5kZXIgYSB0aXRsZSBpbiB0aGUgQ2FyZCBUaXRsZS5cbiAgICovXG4gIHRpdGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgdGl0bGUgY29sb3IuXG4gICAqL1xuICB0aXRsZUNvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSB0aXRsZS5cbiAgICovXG4gIHRpdGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYXJkVGl0bGU7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMTc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfY29sb3JNYW5pcHVsYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXG52YXIgX0VuaGFuY2VkQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG5cbnZhciBfRW5oYW5jZWRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRW5oYW5jZWRCdXR0b24pO1xuXG52YXIgX1BhcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBfUGFwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFwZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUxhYmVsKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICBpZiAoZmFsc2UpIHtcbiAgICBpZiAoIXByb3BzLmNoaWxkcmVuICYmIHByb3BzLmxhYmVsICE9PSAwICYmICFwcm9wcy5sYWJlbCAmJiAhcHJvcHMuaWNvbikge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmVxdWlyZWQgcHJvcCBsYWJlbCBvciBjaGlsZHJlbiBvciBpY29uIHdhcyBub3Qgc3BlY2lmaWVkIGluICcgKyBjb21wb25lbnROYW1lICsgJy4nKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0LCBzdGF0ZSkge1xuICB2YXIgX2NvbnRleHQkbXVpVGhlbWUgPSBjb250ZXh0Lm11aVRoZW1lLFxuICAgICAgYmFzZVRoZW1lID0gX2NvbnRleHQkbXVpVGhlbWUuYmFzZVRoZW1lLFxuICAgICAgYnV0dG9uID0gX2NvbnRleHQkbXVpVGhlbWUuYnV0dG9uLFxuICAgICAgcmFpc2VkQnV0dG9uID0gX2NvbnRleHQkbXVpVGhlbWUucmFpc2VkQnV0dG9uLFxuICAgICAgYm9yZGVyUmFkaXVzID0gX2NvbnRleHQkbXVpVGhlbWUuYm9yZGVyUmFkaXVzO1xuICB2YXIgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIGRpc2FibGVkQmFja2dyb3VuZENvbG9yID0gcHJvcHMuZGlzYWJsZWRCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBkaXNhYmxlZExhYmVsQ29sb3IgPSBwcm9wcy5kaXNhYmxlZExhYmVsQ29sb3IsXG4gICAgICBmdWxsV2lkdGggPSBwcm9wcy5mdWxsV2lkdGgsXG4gICAgICBpY29uID0gcHJvcHMuaWNvbixcbiAgICAgIGxhYmVsID0gcHJvcHMubGFiZWwsXG4gICAgICBsYWJlbFBvc2l0aW9uID0gcHJvcHMubGFiZWxQb3NpdGlvbixcbiAgICAgIHByaW1hcnkgPSBwcm9wcy5wcmltYXJ5LFxuICAgICAgc2Vjb25kYXJ5ID0gcHJvcHMuc2Vjb25kYXJ5LFxuICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZTtcblxuXG4gIHZhciBhbW91bnQgPSBwcmltYXJ5IHx8IHNlY29uZGFyeSA/IDAuNCA6IDAuMDg7XG5cbiAgdmFyIGJhY2tncm91bmRDb2xvciA9IHJhaXNlZEJ1dHRvbi5jb2xvcjtcbiAgdmFyIGxhYmVsQ29sb3IgPSByYWlzZWRCdXR0b24udGV4dENvbG9yO1xuXG4gIGlmIChkaXNhYmxlZCkge1xuICAgIGJhY2tncm91bmRDb2xvciA9IGRpc2FibGVkQmFja2dyb3VuZENvbG9yIHx8IHJhaXNlZEJ1dHRvbi5kaXNhYmxlZENvbG9yO1xuICAgIGxhYmVsQ29sb3IgPSBkaXNhYmxlZExhYmVsQ29sb3IgfHwgcmFpc2VkQnV0dG9uLmRpc2FibGVkVGV4dENvbG9yO1xuICB9IGVsc2UgaWYgKHByaW1hcnkpIHtcbiAgICBiYWNrZ3JvdW5kQ29sb3IgPSByYWlzZWRCdXR0b24ucHJpbWFyeUNvbG9yO1xuICAgIGxhYmVsQ29sb3IgPSByYWlzZWRCdXR0b24ucHJpbWFyeVRleHRDb2xvcjtcbiAgfSBlbHNlIGlmIChzZWNvbmRhcnkpIHtcbiAgICBiYWNrZ3JvdW5kQ29sb3IgPSByYWlzZWRCdXR0b24uc2Vjb25kYXJ5Q29sb3I7XG4gICAgbGFiZWxDb2xvciA9IHJhaXNlZEJ1dHRvbi5zZWNvbmRhcnlUZXh0Q29sb3I7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHByb3BzLmJhY2tncm91bmRDb2xvcikge1xuICAgICAgYmFja2dyb3VuZENvbG9yID0gcHJvcHMuYmFja2dyb3VuZENvbG9yO1xuICAgIH1cbiAgICBpZiAocHJvcHMubGFiZWxDb2xvcikge1xuICAgICAgbGFiZWxDb2xvciA9IHByb3BzLmxhYmVsQ29sb3I7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1dHRvbkhlaWdodCA9IHN0eWxlICYmIHN0eWxlLmhlaWdodCB8fCBidXR0b24uaGVpZ2h0O1xuXG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICB0cmFuc2l0aW9uOiBfdHJhbnNpdGlvbnMyLmRlZmF1bHQuZWFzZU91dCgpLFxuICAgICAgbWluV2lkdGg6IGZ1bGxXaWR0aCA/ICcxMDAlJyA6IGJ1dHRvbi5taW5XaWR0aFxuICAgIH0sXG4gICAgYnV0dG9uOiB7XG4gICAgICBoZWlnaHQ6IGJ1dHRvbkhlaWdodCxcbiAgICAgIGxpbmVIZWlnaHQ6IGJ1dHRvbkhlaWdodCArICdweCcsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIGJvcmRlclJhZGl1czogYm9yZGVyUmFkaXVzLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yLFxuICAgICAgLy8gVGhhdCdzIHRoZSBkZWZhdWx0IHZhbHVlIGZvciBhIGJ1dHRvbiBidXQgbm90IGEgbGlua1xuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJ1xuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIGZvbnRTaXplOiByYWlzZWRCdXR0b24uZm9udFNpemUsXG4gICAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgICAgdGV4dFRyYW5zZm9ybTogcmFpc2VkQnV0dG9uLnRleHRUcmFuc2Zvcm0gfHwgYnV0dG9uLnRleHRUcmFuc2Zvcm0gfHwgJ3VwcGVyY2FzZScsXG4gICAgICBmb250V2VpZ2h0OiByYWlzZWRCdXR0b24uZm9udFdlaWdodCxcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgIHBhZGRpbmdMZWZ0OiBpY29uICYmIGxhYmVsUG9zaXRpb24gIT09ICdiZWZvcmUnID8gOCA6IGJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzLFxuICAgICAgcGFkZGluZ1JpZ2h0OiBpY29uICYmIGxhYmVsUG9zaXRpb24gPT09ICdiZWZvcmUnID8gOCA6IGJhc2VUaGVtZS5zcGFjaW5nLmRlc2t0b3BHdXR0ZXJMZXNzLFxuICAgICAgY29sb3I6IGxhYmVsQ29sb3JcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLFxuICAgICAgbWFyZ2luTGVmdDogbGFiZWwgJiYgbGFiZWxQb3NpdGlvbiAhPT0gJ2JlZm9yZScgPyAxMiA6IDAsXG4gICAgICBtYXJnaW5SaWdodDogbGFiZWwgJiYgbGFiZWxQb3NpdGlvbiA9PT0gJ2JlZm9yZScgPyAxMiA6IDBcbiAgICB9LFxuICAgIG92ZXJsYXk6IHtcbiAgICAgIGhlaWdodDogYnV0dG9uSGVpZ2h0LFxuICAgICAgYm9yZGVyUmFkaXVzOiBib3JkZXJSYWRpdXMsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IChzdGF0ZS5rZXlib2FyZEZvY3VzZWQgfHwgc3RhdGUuaG92ZXJlZCkgJiYgIWRpc2FibGVkICYmICgwLCBfY29sb3JNYW5pcHVsYXRvci5mYWRlKShsYWJlbENvbG9yLCBhbW91bnQpLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIHRvcDogMFxuICAgIH0sXG4gICAgcmlwcGxlOiB7XG4gICAgICBjb2xvcjogbGFiZWxDb2xvcixcbiAgICAgIG9wYWNpdHk6ICEocHJpbWFyeSB8fCBzZWNvbmRhcnkpID8gMC4xIDogMC4xNlxuICAgIH1cbiAgfTtcbn1cblxudmFyIFJhaXNlZEJ1dHRvbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFJhaXNlZEJ1dHRvbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUmFpc2VkQnV0dG9uKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFJhaXNlZEJ1dHRvbik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBSYWlzZWRCdXR0b24uX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFJhaXNlZEJ1dHRvbikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgaG92ZXJlZDogZmFsc2UsXG4gICAgICBrZXlib2FyZEZvY3VzZWQ6IGZhbHNlLFxuICAgICAgdG91Y2hlZDogZmFsc2UsXG4gICAgICBpbml0aWFsWkRlcHRoOiAwLFxuICAgICAgekRlcHRoOiAwXG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAvLyBvbmx5IGxpc3RlbiB0byBsZWZ0IGNsaWNrc1xuICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgekRlcHRoOiBfdGhpcy5zdGF0ZS5pbml0aWFsWkRlcHRoICsgMVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbk1vdXNlRG93bikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk1vdXNlRG93bihldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICB6RGVwdGg6IF90aGlzLnN0YXRlLmluaXRpYWxaRGVwdGhcbiAgICAgIH0pO1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uTW91c2VVcCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk1vdXNlVXAoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICghX3RoaXMuc3RhdGUua2V5Ym9hcmRGb2N1c2VkKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB6RGVwdGg6IF90aGlzLnN0YXRlLmluaXRpYWxaRGVwdGgsXG4gICAgICAgICAgaG92ZXJlZDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Nb3VzZUxlYXZlKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTW91c2VMZWF2ZShldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlTW91c2VFbnRlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5rZXlib2FyZEZvY3VzZWQgJiYgIV90aGlzLnN0YXRlLnRvdWNoZWQpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGhvdmVyZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Nb3VzZUVudGVyKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uTW91c2VFbnRlcihldmVudCk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuaGFuZGxlVG91Y2hTdGFydCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICB0b3VjaGVkOiB0cnVlLFxuICAgICAgICB6RGVwdGg6IF90aGlzLnN0YXRlLmluaXRpYWxaRGVwdGggKyAxXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG91Y2hTdGFydCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoU3RhcnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoRW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHRvdWNoZWQ6IHRydWUsXG4gICAgICAgIHpEZXB0aDogX3RoaXMuc3RhdGUuaW5pdGlhbFpEZXB0aFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoRW5kKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uVG91Y2hFbmQoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZUtleWJvYXJkRm9jdXMgPSBmdW5jdGlvbiAoZXZlbnQsIGtleWJvYXJkRm9jdXNlZCkge1xuICAgICAgdmFyIHpEZXB0aCA9IGtleWJvYXJkRm9jdXNlZCAmJiAhX3RoaXMucHJvcHMuZGlzYWJsZWQgPyBfdGhpcy5zdGF0ZS5pbml0aWFsWkRlcHRoICsgMSA6IF90aGlzLnN0YXRlLmluaXRpYWxaRGVwdGg7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgekRlcHRoOiB6RGVwdGgsXG4gICAgICAgIGtleWJvYXJkRm9jdXNlZDoga2V5Ym9hcmRGb2N1c2VkXG4gICAgICB9KTtcbiAgICB9LCBfdGVtcCksICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkoX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUmFpc2VkQnV0dG9uLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHZhciB6RGVwdGggPSB0aGlzLnByb3BzLmRpc2FibGVkID8gMCA6IDE7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgekRlcHRoOiB6RGVwdGgsXG4gICAgICAgIGluaXRpYWxaRGVwdGg6IHpEZXB0aFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICB2YXIgekRlcHRoID0gbmV4dFByb3BzLmRpc2FibGVkID8gMCA6IDE7XG4gICAgICB2YXIgbmV4dFN0YXRlID0ge1xuICAgICAgICB6RGVwdGg6IHpEZXB0aCxcbiAgICAgICAgaW5pdGlhbFpEZXB0aDogekRlcHRoXG4gICAgICB9O1xuXG4gICAgICBpZiAobmV4dFByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIG5leHRTdGF0ZS5ob3ZlcmVkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBfcHJvcHMuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgIGJ1dHRvblN0eWxlID0gX3Byb3BzLmJ1dHRvblN0eWxlLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgZGlzYWJsZWRCYWNrZ3JvdW5kQ29sb3IgPSBfcHJvcHMuZGlzYWJsZWRCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgZGlzYWJsZWRMYWJlbENvbG9yID0gX3Byb3BzLmRpc2FibGVkTGFiZWxDb2xvcixcbiAgICAgICAgICBmdWxsV2lkdGggPSBfcHJvcHMuZnVsbFdpZHRoLFxuICAgICAgICAgIGljb24gPSBfcHJvcHMuaWNvbixcbiAgICAgICAgICBsYWJlbCA9IF9wcm9wcy5sYWJlbCxcbiAgICAgICAgICBsYWJlbENvbG9yID0gX3Byb3BzLmxhYmVsQ29sb3IsXG4gICAgICAgICAgbGFiZWxQb3NpdGlvbiA9IF9wcm9wcy5sYWJlbFBvc2l0aW9uLFxuICAgICAgICAgIGxhYmVsU3R5bGUgPSBfcHJvcHMubGFiZWxTdHlsZSxcbiAgICAgICAgICBvdmVybGF5U3R5bGUgPSBfcHJvcHMub3ZlcmxheVN0eWxlLFxuICAgICAgICAgIHByaW1hcnkgPSBfcHJvcHMucHJpbWFyeSxcbiAgICAgICAgICByaXBwbGVTdHlsZSA9IF9wcm9wcy5yaXBwbGVTdHlsZSxcbiAgICAgICAgICBzZWNvbmRhcnkgPSBfcHJvcHMuc2Vjb25kYXJ5LFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2JhY2tncm91bmRDb2xvcicsICdidXR0b25TdHlsZScsICdjaGlsZHJlbicsICdjbGFzc05hbWUnLCAnZGlzYWJsZWQnLCAnZGlzYWJsZWRCYWNrZ3JvdW5kQ29sb3InLCAnZGlzYWJsZWRMYWJlbENvbG9yJywgJ2Z1bGxXaWR0aCcsICdpY29uJywgJ2xhYmVsJywgJ2xhYmVsQ29sb3InLCAnbGFiZWxQb3NpdGlvbicsICdsYWJlbFN0eWxlJywgJ292ZXJsYXlTdHlsZScsICdwcmltYXJ5JywgJ3JpcHBsZVN0eWxlJywgJ3NlY29uZGFyeScsICdzdHlsZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnN0YXRlKTtcbiAgICAgIHZhciBtZXJnZWRSaXBwbGVTdHlsZXMgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5yaXBwbGUsIHJpcHBsZVN0eWxlKTtcblxuICAgICAgdmFyIGJ1dHRvbkV2ZW50SGFuZGxlcnMgPSBkaXNhYmxlZCA/IHt9IDoge1xuICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24sXG4gICAgICAgIG9uTW91c2VVcDogdGhpcy5oYW5kbGVNb3VzZVVwLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMuaGFuZGxlTW91c2VMZWF2ZSxcbiAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLmhhbmRsZU1vdXNlRW50ZXIsXG4gICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LFxuICAgICAgICBvblRvdWNoRW5kOiB0aGlzLmhhbmRsZVRvdWNoRW5kLFxuICAgICAgICBvbktleWJvYXJkRm9jdXM6IHRoaXMuaGFuZGxlS2V5Ym9hcmRGb2N1c1xuICAgICAgfTtcblxuICAgICAgdmFyIGxhYmVsRWxlbWVudCA9IGxhYmVsICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5sYWJlbCwgbGFiZWxTdHlsZSkpLCBrZXk6ICdsYWJlbEVsZW1lbnQnIH0sXG4gICAgICAgIGxhYmVsXG4gICAgICApO1xuXG4gICAgICB2YXIgaWNvbkNsb25lZCA9IGljb24gJiYgKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGljb24sIHtcbiAgICAgICAgY29sb3I6IGljb24ucHJvcHMuY29sb3IgfHwgc3R5bGVzLmxhYmVsLmNvbG9yLFxuICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5pY29uLCBpY29uLnByb3BzLnN0eWxlKSxcbiAgICAgICAga2V5OiAnaWNvbkNsb25lZCdcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQbGFjZSBsYWJlbCBiZWZvcmUgb3IgYWZ0ZXIgY2hpbGRyZW4uXG4gICAgICB2YXIgZW5oYW5jZWRCdXR0b25DaGlsZHJlbiA9IGxhYmVsUG9zaXRpb24gPT09ICdiZWZvcmUnID8gW2xhYmVsRWxlbWVudCwgaWNvbkNsb25lZCwgY2hpbGRyZW5dIDogW2NoaWxkcmVuLCBpY29uQ2xvbmVkLCBsYWJlbEVsZW1lbnRdO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9QYXBlcjIuZGVmYXVsdCxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSxcbiAgICAgICAgICB6RGVwdGg6IHRoaXMuc3RhdGUuekRlcHRoXG4gICAgICAgIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9FbmhhbmNlZEJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgYnV0dG9uRXZlbnRIYW5kbGVycywge1xuICAgICAgICAgICAgcmVmOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLmJ1dHRvbiwgYnV0dG9uU3R5bGUpLFxuICAgICAgICAgICAgZm9jdXNSaXBwbGVDb2xvcjogbWVyZ2VkUmlwcGxlU3R5bGVzLmNvbG9yLFxuICAgICAgICAgICAgdG91Y2hSaXBwbGVDb2xvcjogbWVyZ2VkUmlwcGxlU3R5bGVzLmNvbG9yLFxuICAgICAgICAgICAgZm9jdXNSaXBwbGVPcGFjaXR5OiBtZXJnZWRSaXBwbGVTdHlsZXMub3BhY2l0eSxcbiAgICAgICAgICAgIHRvdWNoUmlwcGxlT3BhY2l0eTogbWVyZ2VkUmlwcGxlU3R5bGVzLm9wYWNpdHlcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByZWY6ICdvdmVybGF5JyxcbiAgICAgICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5vdmVybGF5LCBvdmVybGF5U3R5bGUpKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuaGFuY2VkQnV0dG9uQ2hpbGRyZW5cbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBSYWlzZWRCdXR0b247XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5SYWlzZWRCdXR0b24ubXVpTmFtZSA9ICdSYWlzZWRCdXR0b24nO1xuUmFpc2VkQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBsYWJlbFBvc2l0aW9uOiAnYWZ0ZXInLFxuICBmdWxsV2lkdGg6IGZhbHNlLFxuICBwcmltYXJ5OiBmYWxzZSxcbiAgc2Vjb25kYXJ5OiBmYWxzZVxufTtcblJhaXNlZEJ1dHRvbi5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuUmFpc2VkQnV0dG9uLnByb3BUeXBlcyA9ICBmYWxzZSA/IHtcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBidXR0b24sXG4gICAqIGJ1dCBub3QgdGhlIGRlZmF1bHQgZGlzYWJsZWQgYmFja2dyb3VuZCBjb2xvclxuICAgKiAodXNlIGBkaXNhYmxlZEJhY2tncm91bmRDb2xvcmAgZm9yIHRoaXMpLlxuICAgKi9cbiAgYmFja2dyb3VuZENvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBidXR0b24gZWxlbWVudC5cbiAgICovXG4gIGJ1dHRvblN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBidXR0b24uXG4gICAqIElmIGEgbGFiZWwgaXMgcHJvdmlkZWQgdmlhIHRoZSBgbGFiZWxgIHByb3AsIHRoZSB0ZXh0IHdpdGhpbiB0aGUgbGFiZWxcbiAgICogd2lsbCBiZSBkaXNwbGF5ZWQgaW4gYWRkaXRpb24gdG8gdGhlIGNvbnRlbnQgcHJvdmlkZWQgaGVyZS5cbiAgICovXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgQ1NTIGNsYXNzIG5hbWUgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgICogVGhlIGVsZW1lbnQgdG8gdXNlIGFzIHRoZSBjb250YWluZXIgZm9yIHRoZSBSYWlzZWRCdXR0b24uIEVpdGhlciBhIHN0cmluZyB0b1xuICAgICogdXNlIGEgRE9NIGVsZW1lbnQgb3IgYSBSZWFjdEVsZW1lbnQuIFRoaXMgaXMgdXNlZnVsIGZvciB3cmFwcGluZyB0aGVcbiAgICAqIFJhaXNlZEJ1dHRvbiBpbiBhIGN1c3RvbSBMaW5rIGNvbXBvbmVudC4gSWYgYSBSZWFjdEVsZW1lbnQgaXMgZ2l2ZW4sIGVuc3VyZVxuICAgICogdGhhdCBpdCBwYXNzZXMgYWxsIG9mIGl0cyBnaXZlbiBwcm9wcyB0aHJvdWdoIHRvIHRoZSB1bmRlcmx5aW5nIERPTVxuICAgICogZWxlbWVudCBhbmQgcmVuZGVycyBpdHMgY2hpbGRyZW4gcHJvcCBmb3IgcHJvcGVyIGludGVncmF0aW9uLlxuICAgICovXG4gIGNvbnRhaW5lckVsZW1lbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5lbGVtZW50XSksXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGUgZWxlbWVudCdzIHJpcHBsZSBlZmZlY3Qgd2lsbCBiZSBkaXNhYmxlZC5cbiAgICovXG4gIGRpc2FibGVUb3VjaFJpcHBsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIGJ1dHRvbiB3aWxsIGJlIGRpc2FibGVkLlxuICAgKi9cbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBidXR0b25cbiAgICogd2hlbiBpdCBpcyBkaXNhYmxlZC5cbiAgICovXG4gIGRpc2FibGVkQmFja2dyb3VuZENvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBjb2xvciBvZiB0aGUgYnV0dG9uJ3MgbGFiZWwgd2hlbiB0aGUgYnV0dG9uIGlzIGRpc2FibGVkLlxuICAgKi9cbiAgZGlzYWJsZWRMYWJlbENvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoZSBidXR0b24gd2lsbCB0YWtlIHVwIHRoZSBmdWxsIHdpZHRoIG9mIGl0cyBjb250YWluZXIuXG4gICAqL1xuICBmdWxsV2lkdGg6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFRoZSBVUkwgdG8gbGluayB0byB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZC5cbiAgICovXG4gIGhyZWY6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogQW4gaWNvbiB0byBiZSBkaXNwbGF5ZWQgd2l0aGluIHRoZSBidXR0b24uXG4gICAqL1xuICBpY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBUaGUgbGFiZWwgdG8gYmUgZGlzcGxheWVkIHdpdGhpbiB0aGUgYnV0dG9uLlxuICAgKiBJZiBjb250ZW50IGlzIHByb3ZpZGVkIHZpYSB0aGUgYGNoaWxkcmVuYCBwcm9wLCB0aGF0IGNvbnRlbnQgd2lsbCBiZVxuICAgKiBkaXNwbGF5ZWQgaW4gYWRkaXRpb24gdG8gdGhlIGxhYmVsIHByb3ZpZGVkIGhlcmUuXG4gICAqL1xuICBsYWJlbDogdmFsaWRhdGVMYWJlbCxcbiAgLyoqXG4gICAqIFRoZSBjb2xvciBvZiB0aGUgYnV0dG9uJ3MgbGFiZWwuXG4gICAqL1xuICBsYWJlbENvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgYnV0dG9uJ3MgbGFiZWwgcmVsYXRpdmUgdG8gdGhlIGJ1dHRvbidzIGBjaGlsZHJlbmAuXG4gICAqL1xuICBsYWJlbFBvc2l0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFsnYmVmb3JlJywgJ2FmdGVyJ10pLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIGJ1dHRvbidzIGxhYmVsIGVsZW1lbnQuXG4gICAqL1xuICBsYWJlbFN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqIEBpZ25vcmUgKi9cbiAgb25Nb3VzZURvd246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqIEBpZ25vcmUgKi9cbiAgb25Nb3VzZUVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKiBAaWdub3JlICovXG4gIG9uTW91c2VMZWF2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKiogQGlnbm9yZSAqL1xuICBvbk1vdXNlVXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqIEBpZ25vcmUgKi9cbiAgb25Ub3VjaEVuZDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKiogQGlnbm9yZSAqL1xuICBvblRvdWNoU3RhcnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIGJ1dHRvbiBpcyB0b3VjaC10YXBwZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBUb3VjaFRhcCBldmVudCB0YXJnZXRpbmcgdGhlIGJ1dHRvbi5cbiAgICovXG4gIG9uVG91Y2hUYXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUgc3R5bGUgb2YgdGhlIGJ1dHRvbiBvdmVybGF5LlxuICAgKi9cbiAgb3ZlcmxheVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoZSBidXR0b24gd2lsbCB1c2UgdGhlIHRoZW1lJ3MgcHJpbWFyeSBjb2xvci5cbiAgICovXG4gIHByaW1hcnk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUgc3R5bGUgb2YgdGhlIHJpcHBsZSBlbGVtZW50LlxuICAgKi9cbiAgcmlwcGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIGJ1dHRvbiB3aWxsIHVzZSB0aGUgdGhlbWUncyBzZWNvbmRhcnkgY29sb3IuXG4gICAqIElmIGJvdGggYHNlY29uZGFyeWAgYW5kIGBwcmltYXJ5YCBhcmUgdHJ1ZSwgdGhlIGJ1dHRvbiB3aWxsIHVzZVxuICAgKiB0aGUgdGhlbWUncyBwcmltYXJ5IGNvbG9yLlxuICAgKi9cbiAgc2Vjb25kYXJ5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBSYWlzZWRCdXR0b247XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNDQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wdXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cbnZhciBfcHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wdXJlKTtcblxudmFyIF9TdmdJY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfU3ZnSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdmdJY29uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIEhhcmR3YXJlS2V5Ym9hcmRBcnJvd0Rvd24gPSBmdW5jdGlvbiBIYXJkd2FyZUtleWJvYXJkQXJyb3dEb3duKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ003LjQxIDcuODRMMTIgMTIuNDJsNC41OS00LjU4TDE4IDkuMjVsLTYgNi02LTZ6JyB9KVxuICApO1xufTtcbkhhcmR3YXJlS2V5Ym9hcmRBcnJvd0Rvd24gPSAoMCwgX3B1cmUyLmRlZmF1bHQpKEhhcmR3YXJlS2V5Ym9hcmRBcnJvd0Rvd24pO1xuSGFyZHdhcmVLZXlib2FyZEFycm93RG93bi5kaXNwbGF5TmFtZSA9ICdIYXJkd2FyZUtleWJvYXJkQXJyb3dEb3duJztcbkhhcmR3YXJlS2V5Ym9hcmRBcnJvd0Rvd24ubXVpTmFtZSA9ICdTdmdJY29uJztcblxuZXhwb3J0cy5kZWZhdWx0ID0gSGFyZHdhcmVLZXlib2FyZEFycm93RG93bjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDM0NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3B1cmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblxudmFyIF9wdXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3B1cmUpO1xuXG52YXIgX1N2Z0ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblxudmFyIF9TdmdJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N2Z0ljb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgSGFyZHdhcmVLZXlib2FyZEFycm93VXAgPSBmdW5jdGlvbiBIYXJkd2FyZUtleWJvYXJkQXJyb3dVcChwcm9wcykge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX1N2Z0ljb24yLmRlZmF1bHQsXG4gICAgcHJvcHMsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7IGQ6ICdNNy40MSAxNS40MUwxMiAxMC44M2w0LjU5IDQuNThMMTggMTRsLTYtNi02IDZ6JyB9KVxuICApO1xufTtcbkhhcmR3YXJlS2V5Ym9hcmRBcnJvd1VwID0gKDAsIF9wdXJlMi5kZWZhdWx0KShIYXJkd2FyZUtleWJvYXJkQXJyb3dVcCk7XG5IYXJkd2FyZUtleWJvYXJkQXJyb3dVcC5kaXNwbGF5TmFtZSA9ICdIYXJkd2FyZUtleWJvYXJkQXJyb3dVcCc7XG5IYXJkd2FyZUtleWJvYXJkQXJyb3dVcC5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBIYXJkd2FyZUtleWJvYXJkQXJyb3dVcDtcblxuLyoqKi8gfSlcblxufSxbMjA2XSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxvZ2luLmJ1bmRsZS5qcyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2tleWJvYXJkQXJyb3dVcCA9IHJlcXVpcmUoJy4uL3N2Zy1pY29ucy9oYXJkd2FyZS9rZXlib2FyZC1hcnJvdy11cCcpO1xuXG52YXIgX2tleWJvYXJkQXJyb3dVcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXlib2FyZEFycm93VXApO1xuXG52YXIgX2tleWJvYXJkQXJyb3dEb3duID0gcmVxdWlyZSgnLi4vc3ZnLWljb25zL2hhcmR3YXJlL2tleWJvYXJkLWFycm93LWRvd24nKTtcblxudmFyIF9rZXlib2FyZEFycm93RG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXlib2FyZEFycm93RG93bik7XG5cbnZhciBfSWNvbkJ1dHRvbiA9IHJlcXVpcmUoJy4uL0ljb25CdXR0b24nKTtcblxudmFyIF9JY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25CdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMoKSB7XG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgcmlnaHQ6IDQsXG4gICAgICBtYXJnaW46ICdhdXRvJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgQ2FyZEV4cGFuZGFibGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDYXJkRXhwYW5kYWJsZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FyZEV4cGFuZGFibGUoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FyZEV4cGFuZGFibGUpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChDYXJkRXhwYW5kYWJsZS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FyZEV4cGFuZGFibGUpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhcmRFeHBhbmRhYmxlLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfSWNvbkJ1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHRoaXMucHJvcHMuc3R5bGUpLFxuICAgICAgICAgIG9uVG91Y2hUYXA6IHRoaXMucHJvcHMub25FeHBhbmRpbmcsXG4gICAgICAgICAgaWNvblN0eWxlOiB0aGlzLnByb3BzLmljb25TdHlsZVxuICAgICAgICB9LFxuICAgICAgICB0aGlzLnByb3BzLmV4cGFuZGVkID8gdGhpcy5wcm9wcy5vcGVuSWNvbiA6IHRoaXMucHJvcHMuY2xvc2VJY29uXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FyZEV4cGFuZGFibGU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYXJkRXhwYW5kYWJsZS5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2FyZEV4cGFuZGFibGUuZGVmYXVsdFByb3BzID0ge1xuICBjbG9zZUljb246IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9rZXlib2FyZEFycm93RG93bjIuZGVmYXVsdCwgbnVsbCksXG4gIG9wZW5JY29uOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfa2V5Ym9hcmRBcnJvd1VwMi5kZWZhdWx0LCBudWxsKVxufTtcbkNhcmRFeHBhbmRhYmxlLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgY2xvc2VJY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIGV4cGFuZGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGljb25TdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG9uRXhwYW5kaW5nOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgb3Blbkljb246IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYXJkRXhwYW5kYWJsZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvQ2FyZC9DYXJkRXhwYW5kYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gMTQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMuQ2FyZEV4cGFuZGFibGUgPSBleHBvcnRzLkNhcmRBY3Rpb25zID0gZXhwb3J0cy5DYXJkVGV4dCA9IGV4cG9ydHMuQ2FyZE1lZGlhID0gZXhwb3J0cy5DYXJkVGl0bGUgPSBleHBvcnRzLkNhcmRIZWFkZXIgPSBleHBvcnRzLkNhcmQgPSB1bmRlZmluZWQ7XG5cbnZhciBfQ2FyZDIgPSByZXF1aXJlKCcuL0NhcmQnKTtcblxudmFyIF9DYXJkMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhcmQyKTtcblxudmFyIF9DYXJkSGVhZGVyMiA9IHJlcXVpcmUoJy4vQ2FyZEhlYWRlcicpO1xuXG52YXIgX0NhcmRIZWFkZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZEhlYWRlcjIpO1xuXG52YXIgX0NhcmRUaXRsZTIgPSByZXF1aXJlKCcuL0NhcmRUaXRsZScpO1xuXG52YXIgX0NhcmRUaXRsZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYXJkVGl0bGUyKTtcblxudmFyIF9DYXJkTWVkaWEyID0gcmVxdWlyZSgnLi9DYXJkTWVkaWEnKTtcblxudmFyIF9DYXJkTWVkaWEzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZE1lZGlhMik7XG5cbnZhciBfQ2FyZFRleHQyID0gcmVxdWlyZSgnLi9DYXJkVGV4dCcpO1xuXG52YXIgX0NhcmRUZXh0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhcmRUZXh0Mik7XG5cbnZhciBfQ2FyZEFjdGlvbnMyID0gcmVxdWlyZSgnLi9DYXJkQWN0aW9ucycpO1xuXG52YXIgX0NhcmRBY3Rpb25zMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhcmRBY3Rpb25zMik7XG5cbnZhciBfQ2FyZEV4cGFuZGFibGUyID0gcmVxdWlyZSgnLi9DYXJkRXhwYW5kYWJsZScpO1xuXG52YXIgX0NhcmRFeHBhbmRhYmxlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhcmRFeHBhbmRhYmxlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuQ2FyZCA9IF9DYXJkMy5kZWZhdWx0O1xuZXhwb3J0cy5DYXJkSGVhZGVyID0gX0NhcmRIZWFkZXIzLmRlZmF1bHQ7XG5leHBvcnRzLkNhcmRUaXRsZSA9IF9DYXJkVGl0bGUzLmRlZmF1bHQ7XG5leHBvcnRzLkNhcmRNZWRpYSA9IF9DYXJkTWVkaWEzLmRlZmF1bHQ7XG5leHBvcnRzLkNhcmRUZXh0ID0gX0NhcmRUZXh0My5kZWZhdWx0O1xuZXhwb3J0cy5DYXJkQWN0aW9ucyA9IF9DYXJkQWN0aW9uczMuZGVmYXVsdDtcbmV4cG9ydHMuQ2FyZEV4cGFuZGFibGUgPSBfQ2FyZEV4cGFuZGFibGUzLmRlZmF1bHQ7XG5leHBvcnRzLmRlZmF1bHQgPSBfQ2FyZDMuZGVmYXVsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvQ2FyZC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTg0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9SYWlzZWRCdXR0b24gPSByZXF1aXJlKCcuL1JhaXNlZEJ1dHRvbicpO1xuXG52YXIgX1JhaXNlZEJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYWlzZWRCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfUmFpc2VkQnV0dG9uMi5kZWZhdWx0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9SYWlzZWRCdXR0b24vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE4N1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUmVhY3REb20gZnJvbSAncmVhY3QtZG9tJztcclxuXHJcbmltcG9ydCBNdWlUaGVtZVByb3ZpZGVyIGZyb20gJ21hdGVyaWFsLXVpL3N0eWxlcy9NdWlUaGVtZVByb3ZpZGVyJztcclxuaW1wb3J0IFJhaXNlZEJ1dHRvbiBmcm9tICdtYXRlcmlhbC11aS9SYWlzZWRCdXR0b24nO1xyXG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ21hdGVyaWFsLXVpL1RleHRGaWVsZCc7XHJcbmltcG9ydCB7IENhcmQsIENhcmRBY3Rpb25zLCBDYXJkSGVhZGVyLCBDYXJkVGV4dCB9IGZyb20gJ21hdGVyaWFsLXVpL0NhcmQnO1xyXG5pbXBvcnQgRmxhdEJ1dHRvbiBmcm9tICdtYXRlcmlhbC11aS9GbGF0QnV0dG9uJztcclxuXHJcblxyXG4vKiBFU1RFIEZSQUdNRU5UTyBERSBDT0RJR08gRVMgUkVRVUVSSURPIFBBUkEgTE9TIEVWRU5UT1MgREUgVElQTyBUT1VDSCBPIENMSUNLIEVOIENPTVBPTkVOVEVTIE1BVEVSSUFMLVVJICovXHJcbnZhciBpbmplY3RUYXBFdmVudFBsdWdpbiA9IHJlcXVpcmUoXCJyZWFjdC10YXAtZXZlbnQtcGx1Z2luXCIpO1xyXG5pbmplY3RUYXBFdmVudFBsdWdpbigpO1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuY29uc3QgTG9naW4gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTdWJtaXRpbmcgZm9ybVwiKTtcclxuICAgICAgICBpZiAodGhpcy5mb3JtKSB0aGlzLmZvcm0uc3VibWl0KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7Y29sb3I6IFwicmdiYSgwLCAwLCAwLCAwLjg3KVwiLCBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiKDAsIDE4OCwgMjEyKVwiLCB0cmFuc2l0aW9uOiBcImFsbCA0NTBtcyBjdWJpYy1iZXppZXIoMC4yMywgMSwgMC4zMiwgMSkgMG1zXCIsIGJveFNpemluZzogXCJib3JkZXItYm94XCIsIGZvbnRGYW1pbHk6IFwiUm9ib3RvLCBzYW5zLXNlcmlmXCIsIGJveFNoYWRvdzogXCJyZ2JhKDAsIDAsIDAsIDAuMTIpIDBweCAxcHggNnB4LCByZ2JhKDAsIDAsIDAsIDAuMTIpIDBweCAxcHggNHB4XCIsIGJvcmRlclJhZGl1czogXCIwcHhcIiwgcG9zaXRpb246IFwicmVsYXRpdmVcIiwgekluZGV4OiAxMTAwLCB3aWR0aDogXCIxMDAlXCIsIGRpc3BsYXk6IFwiZmxleFwiLCBwYWRkaW5nTGVmdDogXCIyNHB4XCIsIHBhZGRpbmdSaWdodDogXCIyNHB4XCIsfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgxIHN0eWxlPXt7d2hpdGVTcGFjZTogXCJub3dyYXBcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsIHRleHRPdmVyZmxvdzogXCJlbGxpcHNpc1wiLCBtYXJnaW46IFwiMHB4XCIsIHBhZGRpbmdUb3A6IFwiMHB4XCIsIGxldHRlclNwYWNpbmc6IFwiMHB4XCIsIGZvbnRTaXplOiBcIjI0cHhcIiwgZm9udFdlaWdodDogNDAwLCBjb2xvcjogXCJyZ2IoMjU1LCAyNTUsIDI1NSlcIiwgaGVpZ2h0OiBcIjY0cHhcIiwgbGluZUhlaWdodDogXCI2NHB4XCIsIGZsZXg6IFwiMSAxIDAlXCJ9fT5JbmljaWFyIHNlc2lvbjwvaDE+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxNdWlUaGVtZVByb3ZpZGVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxDYXJkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZEhlYWRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJJbmljaWFyIHNlc2lvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZT1cIkluaWNpYSBzZXNpb24gY29uIHVuYSBjdWVudGEgZXhpc3RlbnRlIGVuIEJJTkRJRS5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0QXNFeHBhbmRlcj17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFeHBhbmRhYmxlQnV0dG9uPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRUZXh0IGV4cGFuZGFibGU9e3RydWV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gbWV0aG9kPVwiUE9TVFwiIGFjdGlvbj1cIi9sb2dpblwiIHJlZj17ZiA9PiB7IHRoaXMuZm9ybSA9IGYgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZW1haWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50PVwiZW1haWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0xhYmVsVGV4dD1cImVtYWlsXCIgLz48YnIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50VGV4dD1cIlBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmdMYWJlbFRleHQ9XCJQYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiIC8+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZFRleHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkQWN0aW9ucz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGbGF0QnV0dG9uIGxhYmVsPVwiSW5pY2lhciBzZXNpb25cIiBvbkNsaWNrPXt0aGlzLnN1Ym1pdEZvcm19IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZEFjdGlvbnM+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkPlxyXG5cclxuICAgICAgICAgICAgICAgIDwvTXVpVGhlbWVQcm92aWRlciA+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuUmVhY3REb20ucmVuZGVyKFxyXG4gICAgPExvZ2luIC8+LFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKVxyXG4pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbXBvbmVudHMvbG9naW4vTG9naW4uanMiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0KSB7XG4gIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSBwcm9wcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBjb2xvciA9IHByb3BzLmNvbG9yLFxuICAgICAgc2l6ZSA9IHByb3BzLnNpemU7XG4gIHZhciBhdmF0YXIgPSBjb250ZXh0Lm11aVRoZW1lLmF2YXRhcjtcblxuXG4gIHZhciBzdHlsZXMgPSB7XG4gICAgcm9vdDoge1xuICAgICAgY29sb3I6IGNvbG9yIHx8IGF2YXRhci5jb2xvcixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yIHx8IGF2YXRhci5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBmb250U2l6ZTogc2l6ZSAvIDIsXG4gICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgd2lkdGg6IHNpemVcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgIGNvbG9yOiBjb2xvciB8fCBhdmF0YXIuY29sb3IsXG4gICAgICB3aWR0aDogc2l6ZSAqIDAuNixcbiAgICAgIGhlaWdodDogc2l6ZSAqIDAuNixcbiAgICAgIGZvbnRTaXplOiBzaXplICogMC42LFxuICAgICAgbWFyZ2luOiBzaXplICogMC4yXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbnZhciBBdmF0YXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShBdmF0YXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEF2YXRhcigpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBBdmF0YXIpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChBdmF0YXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEF2YXRhcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQXZhdGFyLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IF9wcm9wcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgaWNvbiA9IF9wcm9wcy5pY29uLFxuICAgICAgICAgIHNyYyA9IF9wcm9wcy5zcmMsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydiYWNrZ3JvdW5kQ29sb3InLCAnaWNvbicsICdzcmMnLCAnc3R5bGUnLCAnY2xhc3NOYW1lJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuXG4gICAgICBpZiAoc3JjKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG4gICAgICAgICAgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpXG4gICAgICAgIH0sIG90aGVyLCB7XG4gICAgICAgICAgc3JjOiBzcmMsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7XG4gICAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSksXG4gICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGljb24gJiYgX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChpY29uLCB7XG4gICAgICAgICAgICBjb2xvcjogc3R5bGVzLmljb24uY29sb3IsXG4gICAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5pY29uLCBpY29uLnByb3BzLnN0eWxlKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEF2YXRhcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkF2YXRhci5tdWlOYW1lID0gJ0F2YXRhcic7XG5BdmF0YXIuZGVmYXVsdFByb3BzID0ge1xuICBzaXplOiA0MFxufTtcbkF2YXRhci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQXZhdGFyLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgLyoqXG4gICAqIFRoZSBiYWNrZ3JvdW5kQ29sb3Igb2YgdGhlIGF2YXRhci4gRG9lcyBub3QgYXBwbHkgdG8gaW1hZ2UgYXZhdGFycy5cbiAgICovXG4gIGJhY2tncm91bmRDb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCwgZm9yIGluc3RhbmNlLCB0byByZW5kZXIgYSBsZXR0ZXIgaW5zaWRlIHRoZSBhdmF0YXIuXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIGNzcyBjbGFzcyBuYW1lIG9mIHRoZSByb290IGBkaXZgIG9yIGBpbWdgIGVsZW1lbnQuXG4gICAqL1xuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogVGhlIGljb24gb3IgbGV0dGVyJ3MgY29sb3IuXG4gICAqL1xuICBjb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBTdmdJY29uIG9yIEZvbnRJY29uIHRvIGJlIHVzZWQgaW5zaWRlIHRoZSBhdmF0YXIuXG4gICAqL1xuICBpY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQsXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBzaXplIG9mIHRoZSBhdmF0YXIgaW4gcGl4ZWxzLlxuICAgKi9cbiAgc2l6ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXG4gIC8qKlxuICAgKiBJZiBwYXNzZWQgaW4sIHRoaXMgY29tcG9uZW50IHdpbGwgcmVuZGVyIGFuIGltZyBlbGVtZW50LiBPdGhlcndpc2UsIGEgZGl2IHdpbGwgYmUgcmVuZGVyZWQuXG4gICAqL1xuICBzcmM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gQXZhdGFyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9BdmF0YXIvQXZhdGFyLmpzXG4vLyBtb2R1bGUgaWQgPSAyOTVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX0F2YXRhciA9IHJlcXVpcmUoJy4vQXZhdGFyJyk7XG5cbnZhciBfQXZhdGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0F2YXRhcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9BdmF0YXIyLmRlZmF1bHQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0F2YXRhci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjk2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX1BhcGVyID0gcmVxdWlyZSgnLi4vUGFwZXInKTtcblxudmFyIF9QYXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXBlcik7XG5cbnZhciBfQ2FyZEV4cGFuZGFibGUgPSByZXF1aXJlKCcuL0NhcmRFeHBhbmRhYmxlJyk7XG5cbnZhciBfQ2FyZEV4cGFuZGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FyZEV4cGFuZGFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQ2FyZCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhcmQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhcmQoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FyZCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKF9yZWYgPSBDYXJkLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDYXJkKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBleHBhbmRlZDogbnVsbFxuICAgIH0sIF90aGlzLmhhbmRsZUV4cGFuZGluZyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBuZXdFeHBhbmRlZFN0YXRlID0gIV90aGlzLnN0YXRlLmV4cGFuZGVkO1xuICAgICAgLy8gbm8gYXV0b21hdGljIHN0YXRlIHVwZGF0ZSB3aGVuIHRoZSBjb21wb25lbnQgaXMgY29udHJvbGxlZFxuICAgICAgaWYgKF90aGlzLnByb3BzLmV4cGFuZGVkID09PSBudWxsKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHsgZXhwYW5kZWQ6IG5ld0V4cGFuZGVkU3RhdGUgfSk7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25FeHBhbmRDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25FeHBhbmRDaGFuZ2UobmV3RXhwYW5kZWRTdGF0ZSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhcmQsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGV4cGFuZGVkOiB0aGlzLnByb3BzLmV4cGFuZGVkID09PSBudWxsID8gdGhpcy5wcm9wcy5pbml0aWFsbHlFeHBhbmRlZCA9PT0gdHJ1ZSA6IHRoaXMucHJvcHMuZXhwYW5kZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgLy8gdXBkYXRlIHRoZSBzdGF0ZSB3aGVuIHRoZSBjb21wb25lbnQgaXMgY29udHJvbGxlZC5cbiAgICAgIGlmIChuZXh0UHJvcHMuZXhwYW5kZWQgIT09IG51bGwpIHRoaXMuc2V0U3RhdGUoeyBleHBhbmRlZDogbmV4dFByb3BzLmV4cGFuZGVkIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBjb250YWluZXJTdHlsZSA9IF9wcm9wcy5jb250YWluZXJTdHlsZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBleHBhbmRhYmxlID0gX3Byb3BzLmV4cGFuZGFibGUsXG4gICAgICAgICAgZXhwYW5kZWRQcm9wID0gX3Byb3BzLmV4cGFuZGVkLFxuICAgICAgICAgIGluaXRpYWxseUV4cGFuZGVkID0gX3Byb3BzLmluaXRpYWxseUV4cGFuZGVkLFxuICAgICAgICAgIG9uRXhwYW5kQ2hhbmdlID0gX3Byb3BzLm9uRXhwYW5kQ2hhbmdlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ3N0eWxlJywgJ2NvbnRhaW5lclN0eWxlJywgJ2NoaWxkcmVuJywgJ2V4cGFuZGFibGUnLCAnZXhwYW5kZWQnLCAnaW5pdGlhbGx5RXhwYW5kZWQnLCAnb25FeHBhbmRDaGFuZ2UnXSk7XG5cblxuICAgICAgdmFyIGxhc3RFbGVtZW50ID0gdm9pZCAwO1xuICAgICAgdmFyIGV4cGFuZGVkID0gdGhpcy5zdGF0ZS5leHBhbmRlZDtcbiAgICAgIHZhciBuZXdDaGlsZHJlbiA9IF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjdXJyZW50Q2hpbGQpIHtcbiAgICAgICAgdmFyIGRvQ2xvbmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIG5ld0NoaWxkID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgbmV3UHJvcHMgPSB7fTtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBjdXJyZW50Q2hpbGQ7XG4gICAgICAgIGlmICghY3VycmVudENoaWxkIHx8ICFjdXJyZW50Q2hpbGQucHJvcHMpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwYW5kZWQgPT09IGZhbHNlICYmIGN1cnJlbnRDaGlsZC5wcm9wcy5leHBhbmRhYmxlID09PSB0cnVlKSByZXR1cm47XG4gICAgICAgIGlmIChjdXJyZW50Q2hpbGQucHJvcHMuYWN0QXNFeHBhbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGRvQ2xvbmUgPSB0cnVlO1xuICAgICAgICAgIG5ld1Byb3BzLm9uVG91Y2hUYXAgPSBfdGhpczIuaGFuZGxlRXhwYW5kaW5nO1xuICAgICAgICAgIG5ld1Byb3BzLnN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHsgY3Vyc29yOiAncG9pbnRlcicgfSwgY3VycmVudENoaWxkLnByb3BzLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudENoaWxkLnByb3BzLnNob3dFeHBhbmRhYmxlQnV0dG9uID09PSB0cnVlKSB7XG4gICAgICAgICAgZG9DbG9uZSA9IHRydWU7XG4gICAgICAgICAgbmV3Q2hpbGQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ2FyZEV4cGFuZGFibGUyLmRlZmF1bHQsIHtcbiAgICAgICAgICAgIGNsb3NlSWNvbjogY3VycmVudENoaWxkLnByb3BzLmNsb3NlSWNvbixcbiAgICAgICAgICAgIGV4cGFuZGVkOiBleHBhbmRlZCxcbiAgICAgICAgICAgIG9uRXhwYW5kaW5nOiBfdGhpczIuaGFuZGxlRXhwYW5kaW5nLFxuICAgICAgICAgICAgb3Blbkljb246IGN1cnJlbnRDaGlsZC5wcm9wcy5vcGVuSWNvbixcbiAgICAgICAgICAgIGljb25TdHlsZTogY3VycmVudENoaWxkLnByb3BzLmljb25TdHlsZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb0Nsb25lKSB7XG4gICAgICAgICAgZWxlbWVudCA9IF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY3VycmVudENoaWxkLCBuZXdQcm9wcywgY3VycmVudENoaWxkLnByb3BzLmNoaWxkcmVuLCBuZXdDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAvLyBJZiB0aGUgbGFzdCBlbGVtZW50IGlzIHRleHQgb3IgYSB0aXRsZSB3ZSBzaG91bGQgYWRkXG4gICAgICAvLyA4cHggcGFkZGluZyB0byB0aGUgYm90dG9tIG9mIHRoZSBjYXJkXG4gICAgICB2YXIgYWRkQm90dG9tUGFkZGluZyA9IGxhc3RFbGVtZW50ICYmIChsYXN0RWxlbWVudC50eXBlLm11aU5hbWUgPT09ICdDYXJkVGV4dCcgfHwgbGFzdEVsZW1lbnQudHlwZS5tdWlOYW1lID09PSAnQ2FyZFRpdGxlJyk7XG5cbiAgICAgIHZhciBtZXJnZWRTdHlsZXMgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe1xuICAgICAgICB6SW5kZXg6IDFcbiAgICAgIH0sIHN0eWxlKTtcbiAgICAgIHZhciBjb250YWluZXJNZXJnZWRTdHlsZXMgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe1xuICAgICAgICBwYWRkaW5nQm90dG9tOiBhZGRCb3R0b21QYWRkaW5nID8gOCA6IDBcbiAgICAgIH0sIGNvbnRhaW5lclN0eWxlKTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfUGFwZXIyLmRlZmF1bHQsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBtZXJnZWRTdHlsZXMgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgc3R5bGU6IGNvbnRhaW5lck1lcmdlZFN0eWxlcyB9LFxuICAgICAgICAgIG5ld0NoaWxkcmVuXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYXJkO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2FyZC5kZWZhdWx0UHJvcHMgPSB7XG4gIGV4cGFuZGFibGU6IGZhbHNlLFxuICBleHBhbmRlZDogbnVsbCxcbiAgaW5pdGlhbGx5RXhwYW5kZWQ6IGZhbHNlXG59O1xuQ2FyZC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCB0byByZW5kZXIgZWxlbWVudHMgaW5zaWRlIHRoZSBDYXJkLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBjb250YWluZXIgZWxlbWVudC5cbiAgICovXG4gIGNvbnRhaW5lclN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgY2FyZCBjb21wb25lbnQgaXMgZXhwYW5kYWJsZS4gQ2FuIGJlIHNldCBvbiBhbnkgY2hpbGQgb2YgdGhlIGBDYXJkYCBjb21wb25lbnQuXG4gICAqL1xuICBleHBhbmRhYmxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgY2FyZCBpcyBleHBhbmRlZC5cbiAgICogSWYgYHRydWVgIG9yIGBmYWxzZWAgdGhlIGNvbXBvbmVudCBpcyBjb250cm9sbGVkLlxuICAgKiBpZiBgbnVsbGAgdGhlIGNvbXBvbmVudCBpcyB1bmNvbnRyb2xsZWQuXG4gICAqL1xuICBleHBhbmRlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogV2hldGhlciB0aGlzIGNhcmQgaXMgaW5pdGlhbGx5IGV4cGFuZGVkLlxuICAgKi9cbiAgaW5pdGlhbGx5RXhwYW5kZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZpcmVkIHdoZW4gdGhlIGBleHBhbmRhYmxlYCBzdGF0ZSBvZiB0aGUgY2FyZCBoYXMgY2hhbmdlZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBuZXdFeHBhbmRlZFN0YXRlIFJlcHJlc2VudHMgdGhlIG5ldyBgZXhwYW5kZWRgIHN0YXRlIG9mIHRoZSBjYXJkLlxuICAgKi9cbiAgb25FeHBhbmRDaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgY2FyZCBjb21wb25lbnQgd2lsbCBpbmNsdWRlIGEgYnV0dG9uIHRvIGV4cGFuZCB0aGUgY2FyZC4gYENhcmRUaXRsZWAsXG4gICAqIGBDYXJkSGVhZGVyYCBhbmQgYENhcmRBY3Rpb25zYCBpbXBsZW1lbnQgYHNob3dFeHBhbmRhYmxlQnV0dG9uYC4gQW55IGNoaWxkIGNvbXBvbmVudFxuICAgKiBvZiBgQ2FyZGAgY2FuIGltcGxlbWVudHMgYHNob3dFeHBhbmRhYmxlQnV0dG9uYCBvciBmb3J3YXJkcyB0aGUgcHJvcGVydHkgdG8gYSBjaGlsZFxuICAgKiBjb21wb25lbnQgc3VwcG9ydGluZyBpdC5cbiAgICovXG4gIHNob3dFeHBhbmRhYmxlQnV0dG9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYXJkO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9DYXJkL0NhcmQuanNcbi8vIG1vZHVsZSBpZCA9IDI5N1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKCkge1xuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHBhZGRpbmc6IDgsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH0sXG4gICAgYWN0aW9uOiB7XG4gICAgICBtYXJnaW5SaWdodDogOFxuICAgIH1cbiAgfTtcbn1cblxudmFyIENhcmRBY3Rpb25zID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2FyZEFjdGlvbnMsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhcmRBY3Rpb25zKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhcmRBY3Rpb25zKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoQ2FyZEFjdGlvbnMuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhcmRBY3Rpb25zKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYXJkQWN0aW9ucywgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhY3RBc0V4cGFuZGVyID0gX3Byb3BzLmFjdEFzRXhwYW5kZXIsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wcy5leHBhbmRhYmxlLFxuICAgICAgICAgIHNob3dFeHBhbmRhYmxlQnV0dG9uID0gX3Byb3BzLnNob3dFeHBhbmRhYmxlQnV0dG9uLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMuZGVmYXVsdCkoX3Byb3BzLCBbJ2FjdEFzRXhwYW5kZXInLCAnY2hpbGRyZW4nLCAnZXhwYW5kYWJsZScsICdzaG93RXhwYW5kYWJsZUJ1dHRvbicsICdzdHlsZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcblxuICAgICAgdmFyIHN0eWxlZENoaWxkcmVuID0gX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChfcmVhY3QyLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICAgIHN0eWxlOiAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5hY3Rpb24sIGNoaWxkLnByb3BzLnN0eWxlKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIHsgc3R5bGU6IHByZXBhcmVTdHlsZXMoKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSkpIH0pLFxuICAgICAgICBzdHlsZWRDaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhcmRBY3Rpb25zO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2FyZEFjdGlvbnMuY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcbkNhcmRBY3Rpb25zLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgLyoqXG4gICAqIElmIHRydWUsIGEgY2xpY2sgb24gdGhpcyBjYXJkIGNvbXBvbmVudCBleHBhbmRzIHRoZSBjYXJkLlxuICAgKi9cbiAgYWN0QXNFeHBhbmRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogQ2FuIGJlIHVzZWQgdG8gcmVuZGVyIGVsZW1lbnRzIGluc2lkZSB0aGUgQ2FyZCBBY3Rpb24uXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhpcyBjYXJkIGNvbXBvbmVudCBpcyBleHBhbmRhYmxlLlxuICAgKi9cbiAgZXhwYW5kYWJsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhpcyBjYXJkIGNvbXBvbmVudCB3aWxsIGluY2x1ZGUgYSBidXR0b24gdG8gZXhwYW5kIHRoZSBjYXJkLlxuICAgKi9cbiAgc2hvd0V4cGFuZGFibGVCdXR0b246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3Rcbn0gOiB7fTtcbmV4cG9ydHMuZGVmYXVsdCA9IENhcmRBY3Rpb25zO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9DYXJkL0NhcmRBY3Rpb25zLmpzXG4vLyBtb2R1bGUgaWQgPSAyOThcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfQXZhdGFyID0gcmVxdWlyZSgnLi4vQXZhdGFyJyk7XG5cbnZhciBfQXZhdGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0F2YXRhcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgY2FyZCA9IGNvbnRleHQubXVpVGhlbWUuY2FyZDtcblxuXG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgcGFkZGluZzogMTYsXG4gICAgICBmb250V2VpZ2h0OiBjYXJkLmZvbnRXZWlnaHQsXG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCdcbiAgICB9LFxuICAgIHRleHQ6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJyxcbiAgICAgIHBhZGRpbmdSaWdodDogJzkwcHgnXG4gICAgfSxcbiAgICBhdmF0YXI6IHtcbiAgICAgIG1hcmdpblJpZ2h0OiAxNlxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgIGNvbG9yOiBwcm9wcy50aXRsZUNvbG9yIHx8IGNhcmQudGl0bGVDb2xvcixcbiAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICBmb250U2l6ZTogMTVcbiAgICB9LFxuICAgIHN1YnRpdGxlOiB7XG4gICAgICBjb2xvcjogcHJvcHMuc3VidGl0bGVDb2xvciB8fCBjYXJkLnN1YnRpdGxlQ29sb3IsXG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgZm9udFNpemU6IDE0XG4gICAgfVxuICB9O1xufVxuXG52YXIgQ2FyZEhlYWRlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhcmRIZWFkZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhcmRIZWFkZXIoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FyZEhlYWRlcik7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKENhcmRIZWFkZXIuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENhcmRIZWFkZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhcmRIZWFkZXIsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0QXNFeHBhbmRlciA9IF9wcm9wcy5hY3RBc0V4cGFuZGVyLFxuICAgICAgICAgIGF2YXRhclByb3AgPSBfcHJvcHMuYXZhdGFyLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGNsb3NlSWNvbiA9IF9wcm9wcy5jbG9zZUljb24sXG4gICAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wcy5leHBhbmRhYmxlLFxuICAgICAgICAgIG9wZW5JY29uID0gX3Byb3BzLm9wZW5JY29uLFxuICAgICAgICAgIHNob3dFeHBhbmRhYmxlQnV0dG9uID0gX3Byb3BzLnNob3dFeHBhbmRhYmxlQnV0dG9uLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHN1YnRpdGxlID0gX3Byb3BzLnN1YnRpdGxlLFxuICAgICAgICAgIHN1YnRpdGxlQ29sb3IgPSBfcHJvcHMuc3VidGl0bGVDb2xvcixcbiAgICAgICAgICBzdWJ0aXRsZVN0eWxlID0gX3Byb3BzLnN1YnRpdGxlU3R5bGUsXG4gICAgICAgICAgdGV4dFN0eWxlID0gX3Byb3BzLnRleHRTdHlsZSxcbiAgICAgICAgICB0aXRsZSA9IF9wcm9wcy50aXRsZSxcbiAgICAgICAgICB0aXRsZUNvbG9yID0gX3Byb3BzLnRpdGxlQ29sb3IsXG4gICAgICAgICAgdGl0bGVTdHlsZSA9IF9wcm9wcy50aXRsZVN0eWxlLFxuICAgICAgICAgIGljb25TdHlsZSA9IF9wcm9wcy5pY29uU3R5bGUsXG4gICAgICAgICAgb3RoZXIgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMy5kZWZhdWx0KShfcHJvcHMsIFsnYWN0QXNFeHBhbmRlcicsICdhdmF0YXInLCAnY2hpbGRyZW4nLCAnY2xvc2VJY29uJywgJ2V4cGFuZGFibGUnLCAnb3Blbkljb24nLCAnc2hvd0V4cGFuZGFibGVCdXR0b24nLCAnc3R5bGUnLCAnc3VidGl0bGUnLCAnc3VidGl0bGVDb2xvcicsICdzdWJ0aXRsZVN0eWxlJywgJ3RleHRTdHlsZScsICd0aXRsZScsICd0aXRsZUNvbG9yJywgJ3RpdGxlU3R5bGUnLCAnaWNvblN0eWxlJ10pO1xuICAgICAgdmFyIHByZXBhcmVTdHlsZXMgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUucHJlcGFyZVN0eWxlcztcblxuICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlcyh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQpO1xuXG4gICAgICB2YXIgYXZhdGFyID0gYXZhdGFyUHJvcDtcblxuICAgICAgaWYgKCgwLCBfcmVhY3QuaXNWYWxpZEVsZW1lbnQpKGF2YXRhclByb3ApKSB7XG4gICAgICAgIGF2YXRhciA9IF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoYXZhdGFyLCB7XG4gICAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuYXZhdGFyLCBhdmF0YXIucHJvcHMuc3R5bGUpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChhdmF0YXIgIT09IG51bGwpIHtcbiAgICAgICAgYXZhdGFyID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0F2YXRhcjIuZGVmYXVsdCwgeyBzcmM6IGF2YXRhclByb3AsIHN0eWxlOiBzdHlsZXMuYXZhdGFyIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKSkgfSksXG4gICAgICAgIGF2YXRhcixcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnRleHQsIHRleHRTdHlsZSkpIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMudGl0bGUsIHRpdGxlU3R5bGUpKSB9LFxuICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnN1YnRpdGxlLCBzdWJ0aXRsZVN0eWxlKSkgfSxcbiAgICAgICAgICAgIHN1YnRpdGxlXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBjaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhcmRIZWFkZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYXJkSGVhZGVyLm11aU5hbWUgPSAnQ2FyZEhlYWRlcic7XG5DYXJkSGVhZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYXZhdGFyOiBudWxsXG59O1xuQ2FyZEhlYWRlci5jb250ZXh0VHlwZXMgPSB7XG4gIG11aVRoZW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXG59O1xuQ2FyZEhlYWRlci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBJZiB0cnVlLCBhIGNsaWNrIG9uIHRoaXMgY2FyZCBjb21wb25lbnQgZXhwYW5kcyB0aGUgY2FyZC5cbiAgICovXG4gIGFjdEFzRXhwYW5kZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIFtBdmF0YXJdKC8jL2NvbXBvbmVudHMvYXZhdGFyKSBlbGVtZW50IHRvIGJlIGRpc3BsYXllZCBvbiB0aGUgQ2FyZCBIZWFkZXIuXG4gICAqIElmIGBhdmF0YXJgIGlzIGFuIGBBdmF0YXJgIG9yIG90aGVyIGVsZW1lbnQsIGl0IHdpbGwgYmUgcmVuZGVyZWQuXG4gICAqIElmIGBhdmF0YXJgIGlzIGEgc3RyaW5nLCBpdCB3aWxsIGJlIHVzZWQgYXMgdGhlIGltYWdlIGBzcmNgIGZvciBhbiBgQXZhdGFyYC5cbiAgICovXG4gIGF2YXRhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogQ2FuIGJlIHVzZWQgdG8gcmVuZGVyIGVsZW1lbnRzIGluc2lkZSB0aGUgQ2FyZCBIZWFkZXIuXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogQ2FuIGJlIHVzZWQgdG8gcGFzcyBhIGNsb3NlSWNvbiBpZiB5b3UgZG9uJ3QgbGlrZSB0aGUgZGVmYXVsdCBleHBhbmRhYmxlIGNsb3NlIEljb24uXG4gICAqL1xuICBjbG9zZUljb246IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgY2FyZCBjb21wb25lbnQgaXMgZXhwYW5kYWJsZS5cbiAgICovXG4gIGV4cGFuZGFibGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpY29uU3R5bGUgb2YgdGhlIEljb24gQnV0dG9uLlxuICAgKi9cbiAgaWNvblN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHBhc3MgYSBvcGVuSWNvbiBpZiB5b3UgZG9uJ3QgbGlrZSB0aGUgZGVmYXVsdCBleHBhbmRhYmxlIG9wZW4gSWNvbi5cbiAgICovXG4gIG9wZW5JY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGlzIGNhcmQgY29tcG9uZW50IHdpbGwgaW5jbHVkZSBhIGJ1dHRvbiB0byBleHBhbmQgdGhlIGNhcmQuXG4gICAqL1xuICBzaG93RXhwYW5kYWJsZUJ1dHRvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHJlbmRlciBhIHN1YnRpdGxlIGluIENhcmQgSGVhZGVyLlxuICAgKi9cbiAgc3VidGl0bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBzdWJ0aXRsZSBjb2xvci5cbiAgICovXG4gIHN1YnRpdGxlQ29sb3I6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHN1YnRpdGxlLlxuICAgKi9cbiAgc3VidGl0bGVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgdGV4dC5cbiAgICovXG4gIHRleHRTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCB0byByZW5kZXIgYSB0aXRsZSBpbiBDYXJkIEhlYWRlci5cbiAgICovXG4gIHRpdGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgdGl0bGUgY29sb3IuXG4gICAqL1xuICB0aXRsZUNvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSB0aXRsZS5cbiAgICovXG4gIHRpdGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYXJkSGVhZGVyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9DYXJkL0NhcmRIZWFkZXIuanNcbi8vIG1vZHVsZSBpZCA9IDI5OVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3NpbXBsZUFzc2lnbiA9IHJlcXVpcmUoJ3NpbXBsZS1hc3NpZ24nKTtcblxudmFyIF9zaW1wbGVBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQXNzaWduKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHByb3BzLCBjb250ZXh0KSB7XG4gIHZhciBjYXJkTWVkaWEgPSBjb250ZXh0Lm11aVRoZW1lLmNhcmRNZWRpYTtcblxuXG4gIHJldHVybiB7XG4gICAgcm9vdDoge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9LFxuICAgIG92ZXJsYXlDb250YWluZXI6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBsZWZ0OiAwXG4gICAgfSxcbiAgICBvdmVybGF5OiB7XG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgfSxcbiAgICBvdmVybGF5Q29udGVudDoge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBib3R0b206IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBwYWRkaW5nVG9wOiA4LFxuICAgICAgYmFja2dyb3VuZDogY2FyZE1lZGlhLm92ZXJsYXlDb250ZW50QmFja2dyb3VuZFxuICAgIH0sXG4gICAgbWVkaWE6IHt9LFxuICAgIG1lZGlhQ2hpbGQ6IHtcbiAgICAgIHZlcnRpY2FsQWxpZ246ICd0b3AnLFxuICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgIG1pbldpZHRoOiAnMTAwJScsXG4gICAgICB3aWR0aDogJzEwMCUnXG4gICAgfVxuICB9O1xufVxuXG52YXIgQ2FyZE1lZGlhID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ2FyZE1lZGlhLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXJkTWVkaWEoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ2FyZE1lZGlhKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoQ2FyZE1lZGlhLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDYXJkTWVkaWEpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENhcmRNZWRpYSwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhY3RBc0V4cGFuZGVyID0gX3Byb3BzLmFjdEFzRXhwYW5kZXIsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wcy5leHBhbmRhYmxlLFxuICAgICAgICAgIG1lZGlhU3R5bGUgPSBfcHJvcHMubWVkaWFTdHlsZSxcbiAgICAgICAgICBvdmVybGF5ID0gX3Byb3BzLm92ZXJsYXksXG4gICAgICAgICAgb3ZlcmxheUNvbnRhaW5lclN0eWxlID0gX3Byb3BzLm92ZXJsYXlDb250YWluZXJTdHlsZSxcbiAgICAgICAgICBvdmVybGF5Q29udGVudFN0eWxlID0gX3Byb3BzLm92ZXJsYXlDb250ZW50U3R5bGUsXG4gICAgICAgICAgb3ZlcmxheVN0eWxlID0gX3Byb3BzLm92ZXJsYXlTdHlsZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhY3RBc0V4cGFuZGVyJywgJ2NoaWxkcmVuJywgJ2V4cGFuZGFibGUnLCAnbWVkaWFTdHlsZScsICdvdmVybGF5JywgJ292ZXJsYXlDb250YWluZXJTdHlsZScsICdvdmVybGF5Q29udGVudFN0eWxlJywgJ292ZXJsYXlTdHlsZScsICdzdHlsZSddKTtcbiAgICAgIHZhciBwcmVwYXJlU3R5bGVzID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLnByZXBhcmVTdHlsZXM7XG5cbiAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0KTtcbiAgICAgIHZhciByb290U3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLnJvb3QsIHN0eWxlKTtcbiAgICAgIHZhciBleHRlbmRlZE1lZGlhU3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLm1lZGlhLCBtZWRpYVN0eWxlKTtcbiAgICAgIHZhciBleHRlbmRlZE92ZXJsYXlDb250YWluZXJTdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMub3ZlcmxheUNvbnRhaW5lciwgb3ZlcmxheUNvbnRhaW5lclN0eWxlKTtcbiAgICAgIHZhciBleHRlbmRlZE92ZXJsYXlDb250ZW50U3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoc3R5bGVzLm92ZXJsYXlDb250ZW50LCBvdmVybGF5Q29udGVudFN0eWxlKTtcbiAgICAgIHZhciBleHRlbmRlZE92ZXJsYXlTdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMub3ZlcmxheSwgb3ZlcmxheVN0eWxlKTtcbiAgICAgIHZhciB0aXRsZUNvbG9yID0gdGhpcy5jb250ZXh0Lm11aVRoZW1lLmNhcmRNZWRpYS50aXRsZUNvbG9yO1xuICAgICAgdmFyIHN1YnRpdGxlQ29sb3IgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuY2FyZE1lZGlhLnN1YnRpdGxlQ29sb3I7XG4gICAgICB2YXIgY29sb3IgPSB0aGlzLmNvbnRleHQubXVpVGhlbWUuY2FyZE1lZGlhLmNvbG9yO1xuXG4gICAgICB2YXIgc3R5bGVkQ2hpbGRyZW4gPSBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICBzdHlsZTogcHJlcGFyZVN0eWxlcygoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5tZWRpYUNoaWxkLCBjaGlsZC5wcm9wcy5zdHlsZSkpXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBvdmVybGF5Q2hpbGRyZW4gPSBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4ubWFwKG92ZXJsYXksIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQudHlwZS5tdWlOYW1lID09PSAnQ2FyZEhlYWRlcicgfHwgY2hpbGQudHlwZS5tdWlOYW1lID09PSAnQ2FyZFRpdGxlJykge1xuICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAgICAgICB0aXRsZUNvbG9yOiB0aXRsZUNvbG9yLFxuICAgICAgICAgICAgc3VidGl0bGVDb2xvcjogc3VidGl0bGVDb2xvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUubXVpTmFtZSA9PT0gJ0NhcmRUZXh0Jykge1xuICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAgICAgICBjb2xvcjogY29sb3JcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvdGhlciwgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhyb290U3R5bGUpIH0pLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKGV4dGVuZGVkTWVkaWFTdHlsZSkgfSxcbiAgICAgICAgICBzdHlsZWRDaGlsZHJlblxuICAgICAgICApLFxuICAgICAgICBvdmVybGF5ID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhleHRlbmRlZE92ZXJsYXlDb250YWluZXJTdHlsZSkgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhleHRlbmRlZE92ZXJsYXlTdHlsZSkgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhleHRlbmRlZE92ZXJsYXlDb250ZW50U3R5bGUpIH0sXG4gICAgICAgICAgICAgIG92ZXJsYXlDaGlsZHJlblxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSA6ICcnXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FyZE1lZGlhO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ2FyZE1lZGlhLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DYXJkTWVkaWEucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogSWYgdHJ1ZSwgYSBjbGljayBvbiB0aGlzIGNhcmQgY29tcG9uZW50IGV4cGFuZHMgdGhlIGNhcmQuXG4gICAqL1xuICBhY3RBc0V4cGFuZGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCB0byByZW5kZXIgZWxlbWVudHMgaW5zaWRlIHRoZSBDYXJkIE1lZGlhLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgY2FyZCBjb21wb25lbnQgaXMgZXhwYW5kYWJsZS5cbiAgICovXG4gIGV4cGFuZGFibGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBDYXJkIE1lZGlhLlxuICAgKi9cbiAgbWVkaWFTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCB0byByZW5kZXIgb3ZlcmxheSBlbGVtZW50IGluIENhcmQgTWVkaWEuXG4gICAqL1xuICBvdmVybGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgb3ZlcmxheSBjb250YWluZXIuXG4gICAqL1xuICBvdmVybGF5Q29udGFpbmVyU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIG92ZXJsYXkgY29udGVudC5cbiAgICovXG4gIG92ZXJsYXlDb250ZW50U3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIG92ZXJsYXkgZWxlbWVudC5cbiAgICovXG4gIG92ZXJsYXlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYXJkTWVkaWE7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0NhcmQvQ2FyZE1lZGlhLmpzXG4vLyBtb2R1bGUgaWQgPSAzMDBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCkge1xuICB2YXIgY2FyZFRleHQgPSBjb250ZXh0Lm11aVRoZW1lLmNhcmRUZXh0O1xuXG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBwYWRkaW5nOiAxNixcbiAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgIGNvbG9yOiBwcm9wcy5jb2xvciB8fCBjYXJkVGV4dC50ZXh0Q29sb3JcbiAgICB9XG4gIH07XG59XG5cbnZhciBDYXJkVGV4dCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhcmRUZXh0LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXJkVGV4dCgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDYXJkVGV4dCk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKENhcmRUZXh0Ll9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDYXJkVGV4dCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ2FyZFRleHQsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0QXNFeHBhbmRlciA9IF9wcm9wcy5hY3RBc0V4cGFuZGVyLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGNvbG9yID0gX3Byb3BzLmNvbG9yLFxuICAgICAgICAgIGV4cGFuZGFibGUgPSBfcHJvcHMuZXhwYW5kYWJsZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhY3RBc0V4cGFuZGVyJywgJ2NoaWxkcmVuJywgJ2NvbG9yJywgJ2V4cGFuZGFibGUnLCAnc3R5bGUnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgICB2YXIgcm9vdFN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHJvb3RTdHlsZSkgfSksXG4gICAgICAgIGNoaWxkcmVuXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2FyZFRleHQ7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYXJkVGV4dC5tdWlOYW1lID0gJ0NhcmRUZXh0JztcbkNhcmRUZXh0LmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DYXJkVGV4dC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBJZiB0cnVlLCBhIGNsaWNrIG9uIHRoaXMgY2FyZCBjb21wb25lbnQgZXhwYW5kcyB0aGUgY2FyZC5cbiAgICovXG4gIGFjdEFzRXhwYW5kZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHJlbmRlciBlbGVtZW50cyBpbnNpZGUgdGhlIENhcmQgVGV4dC5cbiAgICovXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgQ2FyZFRleHQgY29sb3IuXG4gICAqL1xuICBjb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGlzIGNhcmQgY29tcG9uZW50IGlzIGV4cGFuZGFibGUuXG4gICAqL1xuICBleHBhbmRhYmxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgKi9cbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYXJkVGV4dDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbWF0ZXJpYWwtdWkvQ2FyZC9DYXJkVGV4dC5qc1xuLy8gbW9kdWxlIGlkID0gMzAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfc2ltcGxlQXNzaWduID0gcmVxdWlyZSgnc2ltcGxlLWFzc2lnbicpO1xuXG52YXIgX3NpbXBsZUFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaW1wbGVBc3NpZ24pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMocHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIGNhcmQgPSBjb250ZXh0Lm11aVRoZW1lLmNhcmQ7XG5cblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIHBhZGRpbmc6IDE2LFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICBmb250U2l6ZTogMjQsXG4gICAgICBjb2xvcjogcHJvcHMudGl0bGVDb2xvciB8fCBjYXJkLnRpdGxlQ29sb3IsXG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgbGluZUhlaWdodDogJzM2cHgnXG4gICAgfSxcbiAgICBzdWJ0aXRsZToge1xuICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgY29sb3I6IHByb3BzLnN1YnRpdGxlQ29sb3IgfHwgY2FyZC5zdWJ0aXRsZUNvbG9yLFxuICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgIH1cbiAgfTtcbn1cblxudmFyIENhcmRUaXRsZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENhcmRUaXRsZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FyZFRpdGxlKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENhcmRUaXRsZSk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKENhcmRUaXRsZS5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ2FyZFRpdGxlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDYXJkVGl0bGUsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYWN0QXNFeHBhbmRlciA9IF9wcm9wcy5hY3RBc0V4cGFuZGVyLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGNsb3NlSWNvbiA9IF9wcm9wcy5jbG9zZUljb24sXG4gICAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wcy5leHBhbmRhYmxlLFxuICAgICAgICAgIHNob3dFeHBhbmRhYmxlQnV0dG9uID0gX3Byb3BzLnNob3dFeHBhbmRhYmxlQnV0dG9uLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHN1YnRpdGxlID0gX3Byb3BzLnN1YnRpdGxlLFxuICAgICAgICAgIHN1YnRpdGxlQ29sb3IgPSBfcHJvcHMuc3VidGl0bGVDb2xvcixcbiAgICAgICAgICBzdWJ0aXRsZVN0eWxlID0gX3Byb3BzLnN1YnRpdGxlU3R5bGUsXG4gICAgICAgICAgdGl0bGUgPSBfcHJvcHMudGl0bGUsXG4gICAgICAgICAgdGl0bGVDb2xvciA9IF9wcm9wcy50aXRsZUNvbG9yLFxuICAgICAgICAgIHRpdGxlU3R5bGUgPSBfcHJvcHMudGl0bGVTdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydhY3RBc0V4cGFuZGVyJywgJ2NoaWxkcmVuJywgJ2Nsb3NlSWNvbicsICdleHBhbmRhYmxlJywgJ3Nob3dFeHBhbmRhYmxlQnV0dG9uJywgJ3N0eWxlJywgJ3N1YnRpdGxlJywgJ3N1YnRpdGxlQ29sb3InLCAnc3VidGl0bGVTdHlsZScsICd0aXRsZScsICd0aXRsZUNvbG9yJywgJ3RpdGxlU3R5bGUnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCk7XG4gICAgICB2YXIgcm9vdFN0eWxlID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMucm9vdCwgc3R5bGUpO1xuICAgICAgdmFyIGV4dGVuZGVkVGl0bGVTdHlsZSA9ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KSh7fSwgc3R5bGVzLnRpdGxlLCB0aXRsZVN0eWxlKTtcbiAgICAgIHZhciBleHRlbmRlZFN1YnRpdGxlU3R5bGUgPSAoMCwgX3NpbXBsZUFzc2lnbjIuZGVmYXVsdCkoe30sIHN0eWxlcy5zdWJ0aXRsZSwgc3VidGl0bGVTdHlsZSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG90aGVyLCB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKHJvb3RTdHlsZSkgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKGV4dGVuZGVkVGl0bGVTdHlsZSkgfSxcbiAgICAgICAgICB0aXRsZVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBzdHlsZTogcHJlcGFyZVN0eWxlcyhleHRlbmRlZFN1YnRpdGxlU3R5bGUpIH0sXG4gICAgICAgICAgc3VidGl0bGVcbiAgICAgICAgKSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYXJkVGl0bGU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5DYXJkVGl0bGUubXVpTmFtZSA9ICdDYXJkVGl0bGUnO1xuQ2FyZFRpdGxlLmNvbnRleHRUeXBlcyA9IHtcbiAgbXVpVGhlbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5DYXJkVGl0bGUucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogSWYgdHJ1ZSwgYSBjbGljayBvbiB0aGlzIGNhcmQgY29tcG9uZW50IGV4cGFuZHMgdGhlIGNhcmQuXG4gICAqL1xuICBhY3RBc0V4cGFuZGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCB0byByZW5kZXIgZWxlbWVudHMgaW5zaWRlIHRoZSBDYXJkIFRpdGxlLlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHBhc3MgYSBjbG9zZUljb24gaWYgeW91IGRvbid0IGxpa2UgdGhlIGRlZmF1bHQgZXhwYW5kYWJsZSBjbG9zZSBJY29uLlxuICAgKi9cbiAgY2xvc2VJY29uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGlzIGNhcmQgY29tcG9uZW50IGlzIGV4cGFuZGFibGUuXG4gICAqL1xuICBleHBhbmRhYmxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGlzIGNhcmQgY29tcG9uZW50IHdpbGwgaW5jbHVkZSBhIGJ1dHRvbiB0byBleHBhbmQgdGhlIGNhcmQuXG4gICAqL1xuICBzaG93RXhwYW5kYWJsZUJ1dHRvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIENhbiBiZSB1c2VkIHRvIHJlbmRlciBhIHN1YnRpdGxlIGluIHRoZSBDYXJkIFRpdGxlLlxuICAgKi9cbiAgc3VidGl0bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBzdWJ0aXRsZSBjb2xvci5cbiAgICovXG4gIHN1YnRpdGxlQ29sb3I6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHN1YnRpdGxlLlxuICAgKi9cbiAgc3VidGl0bGVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCB0byByZW5kZXIgYSB0aXRsZSBpbiB0aGUgQ2FyZCBUaXRsZS5cbiAgICovXG4gIHRpdGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgdGl0bGUgY29sb3IuXG4gICAqL1xuICB0aXRsZUNvbG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSB0aXRsZS5cbiAgICovXG4gIHRpdGxlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XG59IDoge307XG5leHBvcnRzLmRlZmF1bHQgPSBDYXJkVGl0bGU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL0NhcmQvQ2FyZFRpdGxlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMDJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9zaW1wbGVBc3NpZ24gPSByZXF1aXJlKCdzaW1wbGUtYXNzaWduJyk7XG5cbnZhciBfc2ltcGxlQXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUFzc2lnbik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdHJhbnNpdGlvbnMgPSByZXF1aXJlKCcuLi9zdHlsZXMvdHJhbnNpdGlvbnMnKTtcblxudmFyIF90cmFuc2l0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFuc2l0aW9ucyk7XG5cbnZhciBfY29sb3JNYW5pcHVsYXRvciA9IHJlcXVpcmUoJy4uL3V0aWxzL2NvbG9yTWFuaXB1bGF0b3InKTtcblxudmFyIF9FbmhhbmNlZEJ1dHRvbiA9IHJlcXVpcmUoJy4uL2ludGVybmFsL0VuaGFuY2VkQnV0dG9uJyk7XG5cbnZhciBfRW5oYW5jZWRCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRW5oYW5jZWRCdXR0b24pO1xuXG52YXIgX1BhcGVyID0gcmVxdWlyZSgnLi4vUGFwZXInKTtcblxudmFyIF9QYXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXBlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTGFiZWwocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKCFwcm9wcy5jaGlsZHJlbiAmJiBwcm9wcy5sYWJlbCAhPT0gMCAmJiAhcHJvcHMubGFiZWwgJiYgIXByb3BzLmljb24pIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1JlcXVpcmVkIHByb3AgbGFiZWwgb3IgY2hpbGRyZW4gb3IgaWNvbiB3YXMgbm90IHNwZWNpZmllZCBpbiAnICsgY29tcG9uZW50TmFtZSArICcuJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgdmFyIF9jb250ZXh0JG11aVRoZW1lID0gY29udGV4dC5tdWlUaGVtZSxcbiAgICAgIGJhc2VUaGVtZSA9IF9jb250ZXh0JG11aVRoZW1lLmJhc2VUaGVtZSxcbiAgICAgIGJ1dHRvbiA9IF9jb250ZXh0JG11aVRoZW1lLmJ1dHRvbixcbiAgICAgIHJhaXNlZEJ1dHRvbiA9IF9jb250ZXh0JG11aVRoZW1lLnJhaXNlZEJ1dHRvbixcbiAgICAgIGJvcmRlclJhZGl1cyA9IF9jb250ZXh0JG11aVRoZW1lLmJvcmRlclJhZGl1cztcbiAgdmFyIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG4gICAgICBkaXNhYmxlZEJhY2tncm91bmRDb2xvciA9IHByb3BzLmRpc2FibGVkQmFja2dyb3VuZENvbG9yLFxuICAgICAgZGlzYWJsZWRMYWJlbENvbG9yID0gcHJvcHMuZGlzYWJsZWRMYWJlbENvbG9yLFxuICAgICAgZnVsbFdpZHRoID0gcHJvcHMuZnVsbFdpZHRoLFxuICAgICAgaWNvbiA9IHByb3BzLmljb24sXG4gICAgICBsYWJlbCA9IHByb3BzLmxhYmVsLFxuICAgICAgbGFiZWxQb3NpdGlvbiA9IHByb3BzLmxhYmVsUG9zaXRpb24sXG4gICAgICBwcmltYXJ5ID0gcHJvcHMucHJpbWFyeSxcbiAgICAgIHNlY29uZGFyeSA9IHByb3BzLnNlY29uZGFyeSxcbiAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGU7XG5cblxuICB2YXIgYW1vdW50ID0gcHJpbWFyeSB8fCBzZWNvbmRhcnkgPyAwLjQgOiAwLjA4O1xuXG4gIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSByYWlzZWRCdXR0b24uY29sb3I7XG4gIHZhciBsYWJlbENvbG9yID0gcmFpc2VkQnV0dG9uLnRleHRDb2xvcjtcblxuICBpZiAoZGlzYWJsZWQpIHtcbiAgICBiYWNrZ3JvdW5kQ29sb3IgPSBkaXNhYmxlZEJhY2tncm91bmRDb2xvciB8fCByYWlzZWRCdXR0b24uZGlzYWJsZWRDb2xvcjtcbiAgICBsYWJlbENvbG9yID0gZGlzYWJsZWRMYWJlbENvbG9yIHx8IHJhaXNlZEJ1dHRvbi5kaXNhYmxlZFRleHRDb2xvcjtcbiAgfSBlbHNlIGlmIChwcmltYXJ5KSB7XG4gICAgYmFja2dyb3VuZENvbG9yID0gcmFpc2VkQnV0dG9uLnByaW1hcnlDb2xvcjtcbiAgICBsYWJlbENvbG9yID0gcmFpc2VkQnV0dG9uLnByaW1hcnlUZXh0Q29sb3I7XG4gIH0gZWxzZSBpZiAoc2Vjb25kYXJ5KSB7XG4gICAgYmFja2dyb3VuZENvbG9yID0gcmFpc2VkQnV0dG9uLnNlY29uZGFyeUNvbG9yO1xuICAgIGxhYmVsQ29sb3IgPSByYWlzZWRCdXR0b24uc2Vjb25kYXJ5VGV4dENvbG9yO1xuICB9IGVsc2Uge1xuICAgIGlmIChwcm9wcy5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgIGJhY2tncm91bmRDb2xvciA9IHByb3BzLmJhY2tncm91bmRDb2xvcjtcbiAgICB9XG4gICAgaWYgKHByb3BzLmxhYmVsQ29sb3IpIHtcbiAgICAgIGxhYmVsQ29sb3IgPSBwcm9wcy5sYWJlbENvbG9yO1xuICAgIH1cbiAgfVxuXG4gIHZhciBidXR0b25IZWlnaHQgPSBzdHlsZSAmJiBzdHlsZS5oZWlnaHQgfHwgYnV0dG9uLmhlaWdodDtcblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdHJhbnNpdGlvbjogX3RyYW5zaXRpb25zMi5kZWZhdWx0LmVhc2VPdXQoKSxcbiAgICAgIG1pbldpZHRoOiBmdWxsV2lkdGggPyAnMTAwJScgOiBidXR0b24ubWluV2lkdGhcbiAgICB9LFxuICAgIGJ1dHRvbjoge1xuICAgICAgaGVpZ2h0OiBidXR0b25IZWlnaHQsXG4gICAgICBsaW5lSGVpZ2h0OiBidXR0b25IZWlnaHQgKyAncHgnLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICBib3JkZXJSYWRpdXM6IGJvcmRlclJhZGl1cyxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCksXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcbiAgICAgIC8vIFRoYXQncyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgYSBidXR0b24gYnV0IG5vdCBhIGxpbmtcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBmb250U2l6ZTogcmFpc2VkQnV0dG9uLmZvbnRTaXplLFxuICAgICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICAgIHRleHRUcmFuc2Zvcm06IHJhaXNlZEJ1dHRvbi50ZXh0VHJhbnNmb3JtIHx8IGJ1dHRvbi50ZXh0VHJhbnNmb3JtIHx8ICd1cHBlcmNhc2UnLFxuICAgICAgZm9udFdlaWdodDogcmFpc2VkQnV0dG9uLmZvbnRXZWlnaHQsXG4gICAgICBtYXJnaW46IDAsXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICBwYWRkaW5nTGVmdDogaWNvbiAmJiBsYWJlbFBvc2l0aW9uICE9PSAnYmVmb3JlJyA/IDggOiBiYXNlVGhlbWUuc3BhY2luZy5kZXNrdG9wR3V0dGVyTGVzcyxcbiAgICAgIHBhZGRpbmdSaWdodDogaWNvbiAmJiBsYWJlbFBvc2l0aW9uID09PSAnYmVmb3JlJyA/IDggOiBiYXNlVGhlbWUuc3BhY2luZy5kZXNrdG9wR3V0dGVyTGVzcyxcbiAgICAgIGNvbG9yOiBsYWJlbENvbG9yXG4gICAgfSxcbiAgICBpY29uOiB7XG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbiAgICAgIG1hcmdpbkxlZnQ6IGxhYmVsICYmIGxhYmVsUG9zaXRpb24gIT09ICdiZWZvcmUnID8gMTIgOiAwLFxuICAgICAgbWFyZ2luUmlnaHQ6IGxhYmVsICYmIGxhYmVsUG9zaXRpb24gPT09ICdiZWZvcmUnID8gMTIgOiAwXG4gICAgfSxcbiAgICBvdmVybGF5OiB7XG4gICAgICBoZWlnaHQ6IGJ1dHRvbkhlaWdodCxcbiAgICAgIGJvcmRlclJhZGl1czogYm9yZGVyUmFkaXVzLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAoc3RhdGUua2V5Ym9hcmRGb2N1c2VkIHx8IHN0YXRlLmhvdmVyZWQpICYmICFkaXNhYmxlZCAmJiAoMCwgX2NvbG9yTWFuaXB1bGF0b3IuZmFkZSkobGFiZWxDb2xvciwgYW1vdW50KSxcbiAgICAgIHRyYW5zaXRpb246IF90cmFuc2l0aW9uczIuZGVmYXVsdC5lYXNlT3V0KCksXG4gICAgICB0b3A6IDBcbiAgICB9LFxuICAgIHJpcHBsZToge1xuICAgICAgY29sb3I6IGxhYmVsQ29sb3IsXG4gICAgICBvcGFjaXR5OiAhKHByaW1hcnkgfHwgc2Vjb25kYXJ5KSA/IDAuMSA6IDAuMTZcbiAgICB9XG4gIH07XG59XG5cbnZhciBSYWlzZWRCdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShSYWlzZWRCdXR0b24sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJhaXNlZEJ1dHRvbigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBSYWlzZWRCdXR0b24pO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChfcmVmID0gUmFpc2VkQnV0dG9uLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShSYWlzZWRCdXR0b24pKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhvdmVyZWQ6IGZhbHNlLFxuICAgICAga2V5Ym9hcmRGb2N1c2VkOiBmYWxzZSxcbiAgICAgIHRvdWNoZWQ6IGZhbHNlLFxuICAgICAgaW5pdGlhbFpEZXB0aDogMCxcbiAgICAgIHpEZXB0aDogMFxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gb25seSBsaXN0ZW4gdG8gbGVmdCBjbGlja3NcbiAgICAgIGlmIChldmVudC5idXR0b24gPT09IDApIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHpEZXB0aDogX3RoaXMuc3RhdGUuaW5pdGlhbFpEZXB0aCArIDFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Nb3VzZURvd24pIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Nb3VzZURvd24oZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgekRlcHRoOiBfdGhpcy5zdGF0ZS5pbml0aWFsWkRlcHRoXG4gICAgICB9KTtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbk1vdXNlVXApIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Nb3VzZVVwKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVNb3VzZUxlYXZlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoIV90aGlzLnN0YXRlLmtleWJvYXJkRm9jdXNlZCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgekRlcHRoOiBfdGhpcy5zdGF0ZS5pbml0aWFsWkRlcHRoLFxuICAgICAgICAgIGhvdmVyZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uTW91c2VMZWF2ZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk1vdXNlTGVhdmUoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZU1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICghX3RoaXMuc3RhdGUua2V5Ym9hcmRGb2N1c2VkICYmICFfdGhpcy5zdGF0ZS50b3VjaGVkKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBob3ZlcmVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uTW91c2VFbnRlcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk1vdXNlRW50ZXIoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLmhhbmRsZVRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdG91Y2hlZDogdHJ1ZSxcbiAgICAgICAgekRlcHRoOiBfdGhpcy5zdGF0ZS5pbml0aWFsWkRlcHRoICsgMVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRvdWNoU3RhcnQpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Ub3VjaFN0YXJ0KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVUb3VjaEVuZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICB0b3VjaGVkOiB0cnVlLFxuICAgICAgICB6RGVwdGg6IF90aGlzLnN0YXRlLmluaXRpYWxaRGVwdGhcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25Ub3VjaEVuZCkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblRvdWNoRW5kKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCBfdGhpcy5oYW5kbGVLZXlib2FyZEZvY3VzID0gZnVuY3Rpb24gKGV2ZW50LCBrZXlib2FyZEZvY3VzZWQpIHtcbiAgICAgIHZhciB6RGVwdGggPSBrZXlib2FyZEZvY3VzZWQgJiYgIV90aGlzLnByb3BzLmRpc2FibGVkID8gX3RoaXMuc3RhdGUuaW5pdGlhbFpEZXB0aCArIDEgOiBfdGhpcy5zdGF0ZS5pbml0aWFsWkRlcHRoO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHpEZXB0aDogekRlcHRoLFxuICAgICAgICBrZXlib2FyZEZvY3VzZWQ6IGtleWJvYXJkRm9jdXNlZFxuICAgICAgfSk7XG4gICAgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFJhaXNlZEJ1dHRvbiwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB2YXIgekRlcHRoID0gdGhpcy5wcm9wcy5kaXNhYmxlZCA/IDAgOiAxO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHpEZXB0aDogekRlcHRoLFxuICAgICAgICBpbml0aWFsWkRlcHRoOiB6RGVwdGhcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIHpEZXB0aCA9IG5leHRQcm9wcy5kaXNhYmxlZCA/IDAgOiAxO1xuICAgICAgdmFyIG5leHRTdGF0ZSA9IHtcbiAgICAgICAgekRlcHRoOiB6RGVwdGgsXG4gICAgICAgIGluaXRpYWxaRGVwdGg6IHpEZXB0aFxuICAgICAgfTtcblxuICAgICAgaWYgKG5leHRQcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICBuZXh0U3RhdGUuaG92ZXJlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKG5leHRTdGF0ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gX3Byb3BzLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICBidXR0b25TdHlsZSA9IF9wcm9wcy5idXR0b25TdHlsZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgIGRpc2FibGVkQmFja2dyb3VuZENvbG9yID0gX3Byb3BzLmRpc2FibGVkQmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgIGRpc2FibGVkTGFiZWxDb2xvciA9IF9wcm9wcy5kaXNhYmxlZExhYmVsQ29sb3IsXG4gICAgICAgICAgZnVsbFdpZHRoID0gX3Byb3BzLmZ1bGxXaWR0aCxcbiAgICAgICAgICBpY29uID0gX3Byb3BzLmljb24sXG4gICAgICAgICAgbGFiZWwgPSBfcHJvcHMubGFiZWwsXG4gICAgICAgICAgbGFiZWxDb2xvciA9IF9wcm9wcy5sYWJlbENvbG9yLFxuICAgICAgICAgIGxhYmVsUG9zaXRpb24gPSBfcHJvcHMubGFiZWxQb3NpdGlvbixcbiAgICAgICAgICBsYWJlbFN0eWxlID0gX3Byb3BzLmxhYmVsU3R5bGUsXG4gICAgICAgICAgb3ZlcmxheVN0eWxlID0gX3Byb3BzLm92ZXJsYXlTdHlsZSxcbiAgICAgICAgICBwcmltYXJ5ID0gX3Byb3BzLnByaW1hcnksXG4gICAgICAgICAgcmlwcGxlU3R5bGUgPSBfcHJvcHMucmlwcGxlU3R5bGUsXG4gICAgICAgICAgc2Vjb25kYXJ5ID0gX3Byb3BzLnNlY29uZGFyeSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBvdGhlciA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzLmRlZmF1bHQpKF9wcm9wcywgWydiYWNrZ3JvdW5kQ29sb3InLCAnYnV0dG9uU3R5bGUnLCAnY2hpbGRyZW4nLCAnY2xhc3NOYW1lJywgJ2Rpc2FibGVkJywgJ2Rpc2FibGVkQmFja2dyb3VuZENvbG9yJywgJ2Rpc2FibGVkTGFiZWxDb2xvcicsICdmdWxsV2lkdGgnLCAnaWNvbicsICdsYWJlbCcsICdsYWJlbENvbG9yJywgJ2xhYmVsUG9zaXRpb24nLCAnbGFiZWxTdHlsZScsICdvdmVybGF5U3R5bGUnLCAncHJpbWFyeScsICdyaXBwbGVTdHlsZScsICdzZWNvbmRhcnknLCAnc3R5bGUnXSk7XG4gICAgICB2YXIgcHJlcGFyZVN0eWxlcyA9IHRoaXMuY29udGV4dC5tdWlUaGVtZS5wcmVwYXJlU3R5bGVzO1xuXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy5zdGF0ZSk7XG4gICAgICB2YXIgbWVyZ2VkUmlwcGxlU3R5bGVzID0gKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHt9LCBzdHlsZXMucmlwcGxlLCByaXBwbGVTdHlsZSk7XG5cbiAgICAgIHZhciBidXR0b25FdmVudEhhbmRsZXJzID0gZGlzYWJsZWQgPyB7fSA6IHtcbiAgICAgICAgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlTW91c2VEb3duLFxuICAgICAgICBvbk1vdXNlVXA6IHRoaXMuaGFuZGxlTW91c2VVcCxcbiAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyLFxuICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlVG91Y2hTdGFydCxcbiAgICAgICAgb25Ub3VjaEVuZDogdGhpcy5oYW5kbGVUb3VjaEVuZCxcbiAgICAgICAgb25LZXlib2FyZEZvY3VzOiB0aGlzLmhhbmRsZUtleWJvYXJkRm9jdXNcbiAgICAgIH07XG5cbiAgICAgIHZhciBsYWJlbEVsZW1lbnQgPSBsYWJlbCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB7IHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMubGFiZWwsIGxhYmVsU3R5bGUpKSwga2V5OiAnbGFiZWxFbGVtZW50JyB9LFxuICAgICAgICBsYWJlbFxuICAgICAgKTtcblxuICAgICAgdmFyIGljb25DbG9uZWQgPSBpY29uICYmICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShpY29uLCB7XG4gICAgICAgIGNvbG9yOiBpY29uLnByb3BzLmNvbG9yIHx8IHN0eWxlcy5sYWJlbC5jb2xvcixcbiAgICAgICAgc3R5bGU6ICgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMuaWNvbiwgaWNvbi5wcm9wcy5zdHlsZSksXG4gICAgICAgIGtleTogJ2ljb25DbG9uZWQnXG4gICAgICB9KTtcblxuICAgICAgLy8gUGxhY2UgbGFiZWwgYmVmb3JlIG9yIGFmdGVyIGNoaWxkcmVuLlxuICAgICAgdmFyIGVuaGFuY2VkQnV0dG9uQ2hpbGRyZW4gPSBsYWJlbFBvc2l0aW9uID09PSAnYmVmb3JlJyA/IFtsYWJlbEVsZW1lbnQsIGljb25DbG9uZWQsIGNoaWxkcmVuXSA6IFtjaGlsZHJlbiwgaWNvbkNsb25lZCwgbGFiZWxFbGVtZW50XTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfUGFwZXIyLmRlZmF1bHQsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5yb290LCBzdHlsZSksXG4gICAgICAgICAgekRlcHRoOiB0aGlzLnN0YXRlLnpEZXB0aFxuICAgICAgICB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfRW5oYW5jZWRCdXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb3RoZXIsIGJ1dHRvbkV2ZW50SGFuZGxlcnMsIHtcbiAgICAgICAgICAgIHJlZjogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgICBzdHlsZTogKDAsIF9zaW1wbGVBc3NpZ24yLmRlZmF1bHQpKHN0eWxlcy5idXR0b24sIGJ1dHRvblN0eWxlKSxcbiAgICAgICAgICAgIGZvY3VzUmlwcGxlQ29sb3I6IG1lcmdlZFJpcHBsZVN0eWxlcy5jb2xvcixcbiAgICAgICAgICAgIHRvdWNoUmlwcGxlQ29sb3I6IG1lcmdlZFJpcHBsZVN0eWxlcy5jb2xvcixcbiAgICAgICAgICAgIGZvY3VzUmlwcGxlT3BhY2l0eTogbWVyZ2VkUmlwcGxlU3R5bGVzLm9wYWNpdHksXG4gICAgICAgICAgICB0b3VjaFJpcHBsZU9wYWNpdHk6IG1lcmdlZFJpcHBsZVN0eWxlcy5vcGFjaXR5XG4gICAgICAgICAgfSksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmVmOiAnb3ZlcmxheScsXG4gICAgICAgICAgICAgIHN0eWxlOiBwcmVwYXJlU3R5bGVzKCgwLCBfc2ltcGxlQXNzaWduMi5kZWZhdWx0KShzdHlsZXMub3ZlcmxheSwgb3ZlcmxheVN0eWxlKSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmhhbmNlZEJ1dHRvbkNoaWxkcmVuXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gUmFpc2VkQnV0dG9uO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuUmFpc2VkQnV0dG9uLm11aU5hbWUgPSAnUmFpc2VkQnV0dG9uJztcblJhaXNlZEJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgbGFiZWxQb3NpdGlvbjogJ2FmdGVyJyxcbiAgZnVsbFdpZHRoOiBmYWxzZSxcbiAgcHJpbWFyeTogZmFsc2UsXG4gIHNlY29uZGFyeTogZmFsc2Vcbn07XG5SYWlzZWRCdXR0b24uY29udGV4dFR5cGVzID0ge1xuICBtdWlUaGVtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxufTtcblJhaXNlZEJ1dHRvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBiYWNrZ3JvdW5kIGNvbG9yIGZvciB0aGUgYnV0dG9uLFxuICAgKiBidXQgbm90IHRoZSBkZWZhdWx0IGRpc2FibGVkIGJhY2tncm91bmQgY29sb3JcbiAgICogKHVzZSBgZGlzYWJsZWRCYWNrZ3JvdW5kQ29sb3JgIGZvciB0aGlzKS5cbiAgICovXG4gIGJhY2tncm91bmRDb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lLXN0eWxlcyBvZiB0aGUgYnV0dG9uIGVsZW1lbnQuXG4gICAqL1xuICBidXR0b25TdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgYnV0dG9uLlxuICAgKiBJZiBhIGxhYmVsIGlzIHByb3ZpZGVkIHZpYSB0aGUgYGxhYmVsYCBwcm9wLCB0aGUgdGV4dCB3aXRoaW4gdGhlIGxhYmVsXG4gICAqIHdpbGwgYmUgZGlzcGxheWVkIGluIGFkZGl0aW9uIHRvIHRoZSBjb250ZW50IHByb3ZpZGVkIGhlcmUuXG4gICAqL1xuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIENTUyBjbGFzcyBuYW1lIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAqL1xuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICAvKipcbiAgICAqIFRoZSBlbGVtZW50IHRvIHVzZSBhcyB0aGUgY29udGFpbmVyIGZvciB0aGUgUmFpc2VkQnV0dG9uLiBFaXRoZXIgYSBzdHJpbmcgdG9cbiAgICAqIHVzZSBhIERPTSBlbGVtZW50IG9yIGEgUmVhY3RFbGVtZW50LiBUaGlzIGlzIHVzZWZ1bCBmb3Igd3JhcHBpbmcgdGhlXG4gICAgKiBSYWlzZWRCdXR0b24gaW4gYSBjdXN0b20gTGluayBjb21wb25lbnQuIElmIGEgUmVhY3RFbGVtZW50IGlzIGdpdmVuLCBlbnN1cmVcbiAgICAqIHRoYXQgaXQgcGFzc2VzIGFsbCBvZiBpdHMgZ2l2ZW4gcHJvcHMgdGhyb3VnaCB0byB0aGUgdW5kZXJseWluZyBET01cbiAgICAqIGVsZW1lbnQgYW5kIHJlbmRlcnMgaXRzIGNoaWxkcmVuIHByb3AgZm9yIHByb3BlciBpbnRlZ3JhdGlvbi5cbiAgICAqL1xuICBjb250YWluZXJFbGVtZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudF0pLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIGVsZW1lbnQncyByaXBwbGUgZWZmZWN0IHdpbGwgYmUgZGlzYWJsZWQuXG4gICAqL1xuICBkaXNhYmxlVG91Y2hSaXBwbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoZSBidXR0b24gd2lsbCBiZSBkaXNhYmxlZC5cbiAgICovXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBiYWNrZ3JvdW5kIGNvbG9yIGZvciB0aGUgYnV0dG9uXG4gICAqIHdoZW4gaXQgaXMgZGlzYWJsZWQuXG4gICAqL1xuICBkaXNhYmxlZEJhY2tncm91bmRDb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgY29sb3Igb2YgdGhlIGJ1dHRvbidzIGxhYmVsIHdoZW4gdGhlIGJ1dHRvbiBpcyBkaXNhYmxlZC5cbiAgICovXG4gIGRpc2FibGVkTGFiZWxDb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGUgYnV0dG9uIHdpbGwgdGFrZSB1cCB0aGUgZnVsbCB3aWR0aCBvZiBpdHMgY29udGFpbmVyLlxuICAgKi9cbiAgZnVsbFdpZHRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBUaGUgVVJMIHRvIGxpbmsgdG8gd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqL1xuICBocmVmOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgLyoqXG4gICAqIEFuIGljb24gdG8gYmUgZGlzcGxheWVkIHdpdGhpbiB0aGUgYnV0dG9uLlxuICAgKi9cbiAgaWNvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxuICAvKipcbiAgICogVGhlIGxhYmVsIHRvIGJlIGRpc3BsYXllZCB3aXRoaW4gdGhlIGJ1dHRvbi5cbiAgICogSWYgY29udGVudCBpcyBwcm92aWRlZCB2aWEgdGhlIGBjaGlsZHJlbmAgcHJvcCwgdGhhdCBjb250ZW50IHdpbGwgYmVcbiAgICogZGlzcGxheWVkIGluIGFkZGl0aW9uIHRvIHRoZSBsYWJlbCBwcm92aWRlZCBoZXJlLlxuICAgKi9cbiAgbGFiZWw6IHZhbGlkYXRlTGFiZWwsXG4gIC8qKlxuICAgKiBUaGUgY29sb3Igb2YgdGhlIGJ1dHRvbidzIGxhYmVsLlxuICAgKi9cbiAgbGFiZWxDb2xvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGJ1dHRvbidzIGxhYmVsIHJlbGF0aXZlIHRvIHRoZSBidXR0b24ncyBgY2hpbGRyZW5gLlxuICAgKi9cbiAgbGFiZWxQb3NpdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbJ2JlZm9yZScsICdhZnRlciddKSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSBidXR0b24ncyBsYWJlbCBlbGVtZW50LlxuICAgKi9cbiAgbGFiZWxTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKiBAaWdub3JlICovXG4gIG9uTW91c2VEb3duOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKiBAaWdub3JlICovXG4gIG9uTW91c2VFbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICAvKiogQGlnbm9yZSAqL1xuICBvbk1vdXNlTGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqIEBpZ25vcmUgKi9cbiAgb25Nb3VzZVVwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKiBAaWdub3JlICovXG4gIG9uVG91Y2hFbmQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgLyoqIEBpZ25vcmUgKi9cbiAgb25Ub3VjaFN0YXJ0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmaXJlZCB3aGVuIHRoZSBidXR0b24gaXMgdG91Y2gtdGFwcGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgVG91Y2hUYXAgZXZlbnQgdGFyZ2V0aW5nIHRoZSBidXR0b24uXG4gICAqL1xuICBvblRvdWNoVGFwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lIHN0eWxlIG9mIHRoZSBidXR0b24gb3ZlcmxheS5cbiAgICovXG4gIG92ZXJsYXlTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGUgYnV0dG9uIHdpbGwgdXNlIHRoZSB0aGVtZSdzIHByaW1hcnkgY29sb3IuXG4gICAqL1xuICBwcmltYXJ5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgaW5saW5lIHN0eWxlIG9mIHRoZSByaXBwbGUgZWxlbWVudC5cbiAgICovXG4gIHJpcHBsZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoZSBidXR0b24gd2lsbCB1c2UgdGhlIHRoZW1lJ3Mgc2Vjb25kYXJ5IGNvbG9yLlxuICAgKiBJZiBib3RoIGBzZWNvbmRhcnlgIGFuZCBgcHJpbWFyeWAgYXJlIHRydWUsIHRoZSBidXR0b24gd2lsbCB1c2VcbiAgICogdGhlIHRoZW1lJ3MgcHJpbWFyeSBjb2xvci5cbiAgICovXG4gIHNlY29uZGFyeTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGlubGluZS1zdHlsZXMgb2YgdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxufSA6IHt9O1xuZXhwb3J0cy5kZWZhdWx0ID0gUmFpc2VkQnV0dG9uO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9SYWlzZWRCdXR0b24vUmFpc2VkQnV0dG9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IHJlcXVpcmUoJ3JlY29tcG9zZS9wdXJlJyk7XG5cbnZhciBfcHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wdXJlKTtcblxudmFyIF9TdmdJY29uID0gcmVxdWlyZSgnLi4vLi4vU3ZnSWNvbicpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBIYXJkd2FyZUtleWJvYXJkQXJyb3dEb3duID0gZnVuY3Rpb24gSGFyZHdhcmVLZXlib2FyZEFycm93RG93bihwcm9wcykge1xuICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgX1N2Z0ljb24yLmRlZmF1bHQsXG4gICAgcHJvcHMsXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7IGQ6ICdNNy40MSA3Ljg0TDEyIDEyLjQybDQuNTktNC41OEwxOCA5LjI1bC02IDYtNi02eicgfSlcbiAgKTtcbn07XG5IYXJkd2FyZUtleWJvYXJkQXJyb3dEb3duID0gKDAsIF9wdXJlMi5kZWZhdWx0KShIYXJkd2FyZUtleWJvYXJkQXJyb3dEb3duKTtcbkhhcmR3YXJlS2V5Ym9hcmRBcnJvd0Rvd24uZGlzcGxheU5hbWUgPSAnSGFyZHdhcmVLZXlib2FyZEFycm93RG93bic7XG5IYXJkd2FyZUtleWJvYXJkQXJyb3dEb3duLm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEhhcmR3YXJlS2V5Ym9hcmRBcnJvd0Rvd247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hdGVyaWFsLXVpL3N2Zy1pY29ucy9oYXJkd2FyZS9rZXlib2FyZC1hcnJvdy1kb3duLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHVyZSA9IHJlcXVpcmUoJ3JlY29tcG9zZS9wdXJlJyk7XG5cbnZhciBfcHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wdXJlKTtcblxudmFyIF9TdmdJY29uID0gcmVxdWlyZSgnLi4vLi4vU3ZnSWNvbicpO1xuXG52YXIgX1N2Z0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ZnSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBIYXJkd2FyZUtleWJvYXJkQXJyb3dVcCA9IGZ1bmN0aW9uIEhhcmR3YXJlS2V5Ym9hcmRBcnJvd1VwKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfU3ZnSWNvbjIuZGVmYXVsdCxcbiAgICBwcm9wcyxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ003LjQxIDE1LjQxTDEyIDEwLjgzbDQuNTkgNC41OEwxOCAxNGwtNi02LTYgNnonIH0pXG4gICk7XG59O1xuSGFyZHdhcmVLZXlib2FyZEFycm93VXAgPSAoMCwgX3B1cmUyLmRlZmF1bHQpKEhhcmR3YXJlS2V5Ym9hcmRBcnJvd1VwKTtcbkhhcmR3YXJlS2V5Ym9hcmRBcnJvd1VwLmRpc3BsYXlOYW1lID0gJ0hhcmR3YXJlS2V5Ym9hcmRBcnJvd1VwJztcbkhhcmR3YXJlS2V5Ym9hcmRBcnJvd1VwLm11aU5hbWUgPSAnU3ZnSWNvbic7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEhhcmR3YXJlS2V5Ym9hcmRBcnJvd1VwO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXRlcmlhbC11aS9zdmctaWNvbnMvaGFyZHdhcmUva2V5Ym9hcmQtYXJyb3ctdXAuanNcbi8vIG1vZHVsZSBpZCA9IDM0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9